

# Golang Tutorial

### 1.goå®‰è£…

**ä¼˜åŠ¿ï¼š**å¿«é€Ÿå¼€å‘å’Œé«˜æ€§èƒ½ã€‚

**goç¼–è¯‘å™¨å®‰è£…æ•™ç¨‹ï¼šï¼ˆåŒæ—¶åŒ…å«goå…¥é—¨æ•™ç¨‹ï¼Œè‡ªè¡ŒæŸ¥çœ‹ï¼‰**

```
https://www.cainiaoplus.com/golang/go-environment-install.html

https://www.liwenzhou.com/posts/Go/install/   (å«æœ‰go mod init + é¡¹ç›®å)
```

å®‰è£…å®Œæˆæ‰“å¼€cmdé”®å…¥`go version`ï¼Œè¿”å›å¦‚ä¸‹ä¿¡æ¯ï¼š`go version go1.21.4 windows/amd64`

åœ¨cmdåšä¸€ä¸‹ç›¸å…³é…ç½®ï¼š

1.é”®å…¥`go env`æŸ¥çœ‹ç›¸å…³é…ç½®

2.é”®å…¥å¦‚ä¸‹å‘½ä»¤ä¿®æ”¹é…ç½®ï¼ˆé»˜è®¤çš„æ˜¯ï¼š`set GO111MODULE=     set GOPROXY=https://proxy.golang.org,direct`ï¼‰

```go
set GO111MODULE=on
set GOPROXY=https://goproxy.cn,direct
```

**åç»­æˆ‘åªæ›´æ–°ä¸å…¶å®ƒè¯­è¨€ä¸ä¸€æ ·çš„çŸ¥è¯†ç‚¹**

### 2.åŸºæœ¬çŸ¥è¯†ç‚¹

#### 2.1æ ‡è¯†ç¬¦å‘½åè§„åˆ™ï¼š

- ä¸`c/c++`ä¸€æ ·ï¼Œæ ‡è¯†ç¬¦ç”±å­—æ¯ã€æ•°å­—å’Œä¸‹åˆ’çº¿ç»„æˆï¼Œä¸”åªèƒ½ä»¥å­—æ¯å’Œä¸‹åˆ’çº¿å¼€å¤´ï¼Œä¸èƒ½ä»¥æ•°å­—å¼€å¤´ï¼Œå…³é”®å­—ä¹Ÿä¸èƒ½åšæ ‡è¯†ç¬¦ã€‚

- åœ¨Goè¯­è¨€ä¸­ï¼Œæœ‰ä¸€äº›é¢„å®šä¹‰çš„æ ‡è¯†ç¬¦å¯ç”¨äºå¸¸é‡ï¼Œç±»å‹å’Œå‡½æ•°ã€‚ä»¥ä¸‹æ˜¯é¢„å®šä¹‰æ ‡è¯†ç¬¦åˆ—è¡¨ï¼š

```go
å¸¸é‡:
true, false, iota, nil

ç±»å‹:
int, int8, int16, int32, int64, uint,
uint8, uint16, uint32, uint64, uintptr,
float32, float64, complex128, complex64,
bool, byte, rune, string, error

å‡½æ•°:
make, len, cap, new, append, copy, close, 
delete, complex, real, imag, panic, recover
```

#### 2.2å…³é”®å­—ï¼š

æ²¡å•¥è®²çš„...

#### 2.3æ•°æ®ç±»å‹ï¼š

1. **åŸºæœ¬ç±»å‹ï¼š**æ•°å­—ï¼Œå­—ç¬¦ä¸²å’Œå¸ƒå°”å€¼å±äºæ­¤ç±»åˆ«ã€‚
2. **èšåˆç±»å‹ï¼š**æ•°ç»„å’Œç»“æ„å±äºæ­¤ç±»åˆ«ã€‚
3. **å¼•ç”¨ç±»å‹ï¼š**æŒ‡é’ˆï¼Œåˆ‡ç‰‡ï¼Œmapé›†åˆï¼Œå‡½æ•°å’ŒChannelå±äºæ­¤ç±»åˆ«ã€‚
4. **æ¥å£ç±»å‹**

- **æ•´æ•°**

![image-20231201105115550](../../../images/image-20231201105115550.png)

```go
// æ•´æ•°ä¸¾ä¾‹
package main
import "fmt"

func main()
{
    var x uint8 = 225
    fmt.Printf("%d", x)
}
// æ‰“å°225
```

- **æµ®ç‚¹æ•°**

![image-20231201105522003](../../../images/image-20231201105522003.png)

```go
// æµ®ç‚¹æ•°ä¸¾ä¾‹
package main  
import "fmt"
         
func main() { 
    a := 20.45 
    b := 34.89 
      
    //ä¸¤ä¸ªæµ®ç‚¹æ•°ç›¸å‡
    c := b-a 
      
    //æ˜¾ç¤ºç»“æœ 
    fmt.Printf("ç»“æœ: %f", c) 
      
    //æ˜¾ç¤ºcå˜é‡çš„ç±»å‹
    fmt.Printf("\ncçš„ç±»å‹æ˜¯ : %T", c)   
}

// è¾“å‡ºï¼š
// ç»“æœ: 14.440000
// cçš„ç±»å‹æ˜¯: float64
```

- **å¤æ•°ï¼š**å°†å¤æ•°åˆ†ä¸ºä¸¤éƒ¨åˆ†ï¼Œå¦‚ä¸‹è¡¨æ‰€ç¤ºã€‚`float32`å’Œ`float64`ä¹Ÿæ˜¯è¿™äº›å¤æ•°çš„ä¸€éƒ¨åˆ†ã€‚

![image-20231201110005175](../../../images/image-20231201110005175.png)

```go
//å¤æ•°çš„ä½¿ç”¨ 
package main 
import "fmt"
  
func main() { 
      
   var a complex128 = complex(6, 2) 
   var b complex64 = complex(9, 2) 
   fmt.Println(a) 
   fmt.Println(b) 
     
   //æ˜¾ç¤ºç±»å‹ 
  fmt.Printf("açš„ç±»å‹æ˜¯ %T ä»¥åŠ"+ "bçš„ç±»å‹æ˜¯ %T", a, b) 
}

// (6+2i)
// (9+2i)
// açš„ç±»å‹æ˜¯ complex128 ä»¥åŠbçš„ç±»å‹æ˜¯ complex64
```

- **å¸ƒå°”ç±»å‹ï¼š**å¸ƒå°”æ•°æ®ç±»å‹ä»…è¡¨ç¤ºtrueæˆ–falseã€‚å¸ƒå°”ç±»å‹çš„å€¼ä¸ä¼šéšå¼æˆ–æ˜¾å¼è½¬æ¢ä¸ºä»»ä½•å…¶ä»–ç±»å‹ã€‚

```go
//å¸ƒå°”å€¼çš„ä½¿ç”¨
package main

import "fmt"

func main() {

    //å˜é‡
    str1 := "nhooo"
    str2 := "nhooo"
    str3 := "nhooo"
    result1 := str1 == str2
    result2 := str1 == str3

    //æ‰“å°ç»“æœ
    fmt.Println(result1)
    fmt.Println(result2)

    //æ˜¾ç¤ºresult1å’Œresult2çš„ç±»å‹
    fmt.Printf("result1 çš„ç±»å‹æ˜¯ %T ï¼Œ "+"result2çš„ç±»å‹æ˜¯ %T", result1, result2)

}

// true
// true
// result1 çš„ç±»å‹æ˜¯ bool ï¼Œ result2çš„ç±»å‹æ˜¯ bool
```

- **å­—ç¬¦ä¸²ï¼š**å­—ç¬¦ä¸²æ•°æ®ç±»å‹è¡¨ç¤ºUnicodeä»£ç ç‚¹çš„åºåˆ—ã€‚æ¢å¥è¯è¯´ï¼Œæˆ‘ä»¬å¯ä»¥è¯´ä¸€ä¸ªå­—ç¬¦ä¸²æ˜¯ä¸å¯å˜å­—èŠ‚çš„åºåˆ—ï¼Œè¿™æ„å‘³ç€ä¸€æ—¦åˆ›å»ºäº†ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œæ‚¨å°±æ— æ³•æ›´æ”¹è¯¥å­—ç¬¦ä¸²ã€‚

```go
//ä½¿ç”¨å­—ç¬¦ä¸²
package main 
import "fmt"
  
func main() { 
      
    //ç”¨äºå­˜å‚¨å­—ç¬¦ä¸²çš„strå˜é‡
   str := "nhooo"
     
   //æ˜¾ç¤ºå­—ç¬¦ä¸²çš„é•¿åº¦
   fmt.Printf("å­—ç¬¦ä¸²çš„é•¿åº¦:%d", len(str)) 
     
   //æ˜¾ç¤ºå­—ç¬¦ä¸² 
   fmt.Printf("\nå­—ç¬¦ä¸²æ˜¯: %s", str) 
     
   // æ˜¾ç¤ºstrå˜é‡çš„ç±»å‹
   fmt.Printf("\nstrçš„ç±»å‹æ˜¯: %T", str) 
}

// å­—ç¬¦ä¸²çš„é•¿åº¦:5
// å­—ç¬¦ä¸²æ˜¯: nhooo
// strçš„ç±»å‹æ˜¯: string
```

#### 2.4å˜é‡

å˜é‡æ˜¯é€šè¿‡ä¸¤ç§æ–¹å¼åˆ›å»ºçš„ï¼š

- ä½¿ç”¨`var`å…³é”®å­—ï¼šè¯­æ³•ä¸º`var variable_name type = expression`ï¼Œåœ¨ä¸Šè¿°è¯­æ³•ä¸­ï¼Œå˜é‡ç±»å‹`type`å’Œ`= expression`å¯ä»¥äºŒåˆ ä¸€ï¼Œå¦‚æœåˆ é™¤äº†ç±»å‹`type`ï¼Œåˆ™å˜é‡ç±»å‹ç”±è¡¨è¾¾å¼ä¸­çš„åˆå€¼ç¡®å®šã€‚

- ä½¿ç”¨**çŸ­å˜é‡**å£°æ˜ï¼šè¯­æ³•ä¸º`variable_name:= expression`ï¼Œæ³¨æ„`:=`æ˜¯å£°æ˜ï¼Œè€Œ`=`æ˜¯èµ‹å€¼ã€‚åœ¨ä¸Šé¢çš„è¡¨è¾¾å¼ä¸­ï¼Œå˜é‡çš„ç±»å‹ç”±è¡¨è¾¾å¼çš„ç±»å‹ç¡®å®šã€‚

- **éœ€è¦æ³¨æ„çš„æ˜¯ï¼š**å€ŸåŠ©çŸ­å˜é‡å£°æ˜æ“ä½œç¬¦ï¼ˆï¼š=ï¼‰ï¼Œ**æ‚¨åªèƒ½å£°æ˜**ä»…å…·æœ‰å—çº§ä½œç”¨åŸŸ**çš„å±€éƒ¨å˜é‡**ã€‚å¦‚æœå°è¯•ä½¿ç”¨shortå£°æ˜è¿ç®—ç¬¦å£°æ˜å…¨å±€å˜é‡ï¼Œåˆ™ä¼šæŠ›å‡ºé”™è¯¯æ¶ˆæ¯ã€‚syntax error: non-declaration statement outside function body

```go
//æ–¹å¼ä¸€ï¼š
var name string = "hello"

//æ–¹å¼äºŒï¼šGoæ˜¯ä¸€ç§é™æ€ç±»å‹çš„è¯­è¨€ï¼Œä½†æ˜¯å®ƒä»ç„¶æä¾›äº†ä¸€ç§åœ¨å£°æ˜å˜é‡çš„åŒæ—¶çœç•¥æ•°æ®ç±»å‹å£°æ˜çš„åŠŸèƒ½ï¼Œå¦‚ä»¥ä¸‹è¯­æ³•æ‰€ç¤ºã€‚è¿™é€šå¸¸ç§°ä¸ºç±»å‹æ¨æ–­ã€‚ç±»ä¼¼äºc++çš„autoå…³é”®å­—
var name = "hello"    // fmt.Printf("%T", name)   æ‰“å°string

//æ–¹å¼ä¸‰ï¼š
var name string
name = "hello"

//æ–¹å¼å››ï¼šåœ¨å•ä¸ªå£°æ˜ä¸­å£°æ˜ç›¸åŒç±»å‹çš„å¤šä¸ªå˜é‡ã€‚åœ¨å£°æ˜æœŸé—´ä½¿ç”¨ç±»å‹æ—¶ï¼Œåªå…è®¸å£°æ˜å¤šä¸ªç›¸åŒç±»å‹çš„å˜é‡ã€‚
var myvariable1, myvariable2, myvariable3 int = 2, 454, 67

//æ–¹å¼äº”ï¼šåœ¨å•ä¸ªå£°æ˜ä¸­å£°æ˜ä¸åŒç±»å‹çš„å¤šä¸ªå˜é‡ã€‚å˜é‡çš„ç±»å‹ç”±åˆå§‹åŒ–å€¼ç¡®å®šã€‚  åœ¨å£°æ˜æœŸé—´åˆ é™¤ç±»å‹ï¼Œæ‚¨å¯ä»¥å£°æ˜å¤šä¸ªä¸åŒç±»å‹çš„å˜é‡ã€‚
var myvariable1, myvariable2, myvariable3 = 2, "GFG", 67.56

//æ–¹å¼å…­ï¼šä½¿ç”¨å¤šè¡Œä½¿ç”¨varå…³é”®å­—å£°æ˜å’Œåˆå§‹åŒ–ä¸åŒç±»å‹çš„å€¼
var(
     nhooo1 = 100
     nhooo2 = 200.57
     nhooo3 bool
     nhooo4 string = "hello"
)

//æ–¹å¼ä¸ƒï¼šä½¿ç”¨çŸ­å˜é‡å£°æ˜ï¼Œå¯ä»¥åœ¨å•ä¸ªå£°æ˜ä¸­å£°æ˜ä¸åŒç±»å‹çš„å¤šä¸ªå˜é‡ã€‚è¿™äº›å˜é‡çš„ç±»å‹ç”±è¡¨è¾¾å¼ç¡®å®šã€‚
myvariable1, myvariable2, myvariable3 := 800, 34.7, 56.9
myvariable1, myvariable2, myvariable3 := 800, "NHOOO", 47.56

// æ‰“å°æ ¼å¼æ§åˆ¶ç¬¦%tè¾“å‡ºboolç±»å‹çš„å˜é‡ï¼Œ%Tæ‰“å°å˜é‡çš„æ•°æ®ç±»å‹
package main
import "fmt"
func main() {
	var (
		a int  = 1
		b      = "hello"
		c bool = false
		d bool = false
	)
	c = true
	fmt.Printf("%d\t%s\t%t\t%T\n", a, b, c, d) // 1	hello	true	bool
}

```

#### 2.5å¸¸é‡

- ä½¿ç”¨å…³é”®å­—`const`å£°æ˜ï¼š

```go
const PI = 3.14
const STR = "hello World"
```

#### 2.6è¿ç®—ç¬¦

- æŒ‰ä½è¿ç®—ç¬¦å¤šä¸€ç§ï¼š`&^`ï¼ŒæŒ‰ä½æ¸…é™¤è¿ç®—ç¬¦

```go
package main

import "fmt"

func main() {

	a := 3
	b, c, d, e := 0, 1, 2, 3
	res1, res2, res3, res4 := a&^b, a&^c, a&^d, a&^e     //æŠŠaä¸­ä¸bcdeå…±æœ‰çš„bit 1å‡æ‰
	fmt.Printf("%d %d %d %d", res1, res2, res3, res4) // 3 2 1 0
    // res1, res2, res3, res4 := b&^a, c&^a, d&^a, e&^a
	// fmt.Printf("%d %d %d %d", res1, res2, res3, res4) // 0 0 0 0
}
```

- æ‚é¡¹è¿ç®—ç¬¦ï¼š`&`ï¼šå–åœ°å€è¿ç®—ç¬¦ï¼Œ`*`ï¼šæŒ‡é’ˆè¿ç®—ç¬¦ï¼Œå’Œ`c/c++`é‡Œé¢çš„ä½œç”¨ä¸€è‡´ã€‚`<-`ï¼šè¯¥è¿ç®—ç¬¦çš„åç§°ä¸ºæ¥æ”¶ã€‚å®ƒç”¨äºä»é€šé“æ¥æ”¶å€¼ã€‚

#### 2.7ç±»å‹è½¬æ¢

- c/c++,javaä¹‹ç±»çš„é™æ€ç±»å‹è¯­è¨€æä¾›äº†å¯¹éšå¼ç±»å‹è½¬æ¢çš„æ”¯æŒï¼Œä½†æ˜¯**Golangä¸æ”¯æŒè‡ªåŠ¨ç±»å‹è½¬æ¢æˆ–éšå¼ç±»å‹è½¬æ¢**ã€‚å¯¹äºç±»å‹è½¬æ¢ï¼Œå¿…é¡»æ‰§è¡Œ**æ˜¾å¼è½¬æ¢**ã€‚

æ˜¾ç¤ºè½¬æ¢çš„è¯­æ³•å’Œc/c++ä¹Ÿæœ‰ä¸€å®šåŒºåˆ«ï¼Œè¯­æ³•ä¸ºï¼š`type(val)`ï¼Œå…¶ä¸­`(val)`æ‹¬å·ä¸å¯å»æ‰ï¼Œ`type`å¯åŠ ä¸Šæ‹¬å·ï¼Œå¦‚`(int32)(val)`ï¼Œå…¶ä¸­`val`ä¸ºå˜é‡ã€‚

```go
var nhooo1 int = 845

// æ˜¾å¼ç±»å‹è½¬æ¢ä¸¾ä¾‹
var nhooo2 float64 = float64(nhooo1)
var nhooo3 int64 = int64(nhooo1)
var nhooo4 uint = uint(nhooo1)

package main
import "fmt"
func main() {
	var a, b int = 1, 2
	c := float32(a)
	fmt.Printf("%f %T %d", c, a, b) //1.000000 int 2
}
```

### 3.æ§åˆ¶è¯­å¥

**ä»£ç å—å³ä½¿åªæœ‰ä¸€è¡Œè¯­å¥ï¼Œä¹Ÿéœ€è¦åŠ èŠ±æ‹¬å·{}å°†ä»£ç å—æ‹¬èµ·æ¥**ï¼Œc/c++çš„ä»£ç å—åªæœ‰ä¸€è¡Œè¯­å¥ï¼Œå¯ä»¥ä¸ç”¨èŠ±æ‹¬å·{}æ‹¬èµ·æ¥ã€‚

**æ³¨æ„äº‹é¡¹ï¼š**

- åœ¨ifå’Œforå¾ªç¯çš„è¡¨è¾¾å¼ ä¸ä½¿ç”¨æ‹¬å·()ã€‚

- èŠ±æ‹¬å·åœ¨ifå’Œforå¾ªç¯ä¸­æ˜¯å¿…éœ€çš„ã€‚
- å·¦æ‹¬å·åº”ä¸ifå’Œforè¯­å¥æ‰€åœ¨çš„è¡Œç›¸åŒã€‚
- å¦‚æœæ•°ç»„ï¼Œå­—ç¬¦ä¸²ï¼Œåˆ‡ç‰‡æˆ–mapé›†åˆä¸ºç©ºï¼Œåˆ™forå¾ªç¯ä¸ä¼šæŠ›å‡ºé”™è¯¯å¹¶ç»§ç»­å…¶æµç¨‹ã€‚æ¢å¥è¯è¯´ï¼Œå¦‚æœæ•°ç»„ï¼Œå­—ç¬¦ä¸²ï¼Œåˆ‡ç‰‡æˆ–mapä¸ºnilï¼Œåˆ™forå¾ªç¯çš„è¿­ä»£æ¬¡æ•°ä¸ºé›¶ã€‚

#### 3.1æ¡ä»¶è¯­å¥ï¼ˆåˆ†æ”¯è¯­å¥ï¼‰

- ifä¸­çš„è¿ç®—è¡¨è¾¾å¼**ä¸åŠ æ‹¬å·()**ï¼Œc/c++éœ€è¦åŠ æ‹¬å·ï¼Œå…¶å®ƒçš„å’Œc/c++ä¸€æ¨¡ä¸€æ ·ã€‚

```go
if a < b {  //èŠ±æ‹¬å·å¿…é¡»è¦, å¹¶ä¸”å·¦èŠ±æ‹¬å·{åº”ä¸ifæˆ–è€…forè¯­å¥æ‰€åœ¨çš„è¡Œç›¸åŒã€‚
	c = b
} else { 
	c = a
}
```

#### 3.2å¾ªç¯è¯­å¥

- forå¾ªç¯ä¹Ÿ**ä¸åŠ æ‹¬å·()**ã€‚

```go
for i:=0; i < 4; i ++ {
    fmt.Printf("%d ", i)
}
```

- æ­»å¾ªç¯å†™æ³•ï¼Œç±»ä¼¼äº`c/c++`çš„`while(1){...}`ã€‚

```go
for{
    ...
}
```

- forå¾ªç¯ç”¨ä½œwhileå¾ªç¯ã€‚

```go
for i < 3 {
	...
}
// ç­‰ä»·
while i < 3 {
    
}
```

- ç±»ä¼¼äºpythonçš„zipå¾ªç¯ï¼Œå¾ªç¯é”®å€¼å¯¹ï¼š

```go
package main
import "fmt"
func main() {
	a := []string{"hello", "world", "baby"}
	for k, v := range a {
		fmt.Printf("%d %s\n", k, v)
	}
}
// æ‰“å°
/*
0 hello
1 world
2 baby
*/
```

- å¯¹å­—ç¬¦ä¸²ä½¿ç”¨forå¾ªç¯ï¼š

```go
package main
import "fmt"
func main() {
	var str string = "my wife is you?"
	for idx, ch := range str {
		fmt.Printf("%d %c\n", idx, ch)
	}
    // ç­‰ä»·å†™æ³•
    var str string = "my wife is you?"
	var n int = len(str)
	for i := 0; i < n; i++ {
		fmt.Printf("%d %c\n", i, str[i])
	}
}
/*
0 m
1 y
2  
3 w
4 i
5 f
6 e
7  
8 i
9 s
10  
11 y
12 o
13 u
14 ?
*/
```

- å¯¹äºmapä½¿ç”¨forå¾ªç¯ï¼šforå¾ªç¯éå†mapçš„é”®å€¼å¯¹ã€‚

```go
package main

import "fmt"

func main() {
	mp := map[int]string{
		24:  "you",
		89:  "are",
		71:  "my",
		100: "wife",
	}
	for key, value := range mp {
		fmt.Printf("%d %s\n", key, value)
	}
}
/*
24 you
89 are
71 my
100 wife
*/
```

- **ï¼ˆå¾…å­¦ä¹ ï¼Œç°åœ¨çœ‹ä¸æ‡‚2023.12.1ï¼‰Foré€šé“ï¼š forå¾ªç¯å¯ä»¥éå†é€šé“ä¸Šå‘é€çš„é¡ºåºå€¼ï¼Œç›´åˆ°å…³é—­ä¸ºæ­¢ã€‚ **

```go
package main

import "fmt"

func main() {

    // ä½¿ç”¨ channel
    chnl := make(chan int)
    go func() {
        chnl <- 100
        chnl <- 1000
        chnl <- 10000
        chnl <- 100000
        close(chnl)
    }()
    for i := range chnl {
        fmt.Println(i)
    }

}
/*
100
1000
10000
100000
*/
```

#### 3.3å¾ªç¯æ§åˆ¶è¯­å¥

- gotoç”¨ä¸ä¸Š

```go
package main
import "fmt"
func main() {
	var i int = 0
index:
	for i < 5 {
		if i == 3 {
			i++
			goto index
		}
		fmt.Printf("%d\n", i)
		i++
	}
}
/*
0
1
2
4
*/
```

#### 3.4switchè¯­å¥

ä¸‰ç§å¸¸ç”¨æ–¹å¼ï¼š

```go
package main
import "fmt"
func main() {
	switch n := 2; n {
	case 1:
		fmt.Printf("111")
	case 2:
		fmt.Printf("222")
	case 3:
		fmt.Printf("333")
	default:
		fmt.Printf("444")
	}
}
/*
222
*/

package main
import "fmt"
func main() {
	var n int = 3
	switch n {
	case 1:
		fmt.Printf("111")
	case 2:
		fmt.Printf("222")
	case 3:
		fmt.Printf("333")
	default:
		fmt.Printf("444")
	}
}
/*
333
*/

package main
import "fmt"
func main() {
	var n int = 3
	switch {
	case n == 1:
		fmt.Printf("111")
	case n == 2:
		fmt.Printf("222")
	case n == 3:
		fmt.Printf("333")
	default:
		fmt.Printf("444")
	}
}
/*
333
*/
```

#### 3.5Go Selectè¯­å¥å’Œdeadlockæ­»é”

åœ¨Goè¯­è¨€ä¸­ï¼Œselectè¯­å¥å°±åƒswitchè¯­å¥ï¼Œä½†æ˜¯åœ¨selectè¯­å¥ä¸­ï¼Œcaseè¯­å¥å¼•ç”¨é€šä¿¡ï¼Œå³é€šé“(ä¿¡é“chan)ä¸Šçš„**å‘é€æˆ–æ¥æ”¶**æ“ä½œã€‚

**è¯­æ³•ï¼š**

```go
select{
    case SendOrReceive1: // è¯­å¥
    case SendOrReceive2: // è¯­å¥
    case SendOrReceive3: // è¯­å¥
    .......
    default: // Statement
 }
```

**æ­»é”ï¼š**å½“æ‚¨è¯•å›¾ä»é€šé“è¯»å–æˆ–å†™å…¥æ•°æ®ä½†é€šé“æ²¡æœ‰å€¼æ—¶ã€‚å› æ­¤ï¼Œå®ƒé˜»å¡goroutineçš„å½“å‰æ‰§è¡Œï¼Œå¹¶å°†æ§åˆ¶ä¼ é€’ç»™å…¶ä»–goroutineï¼Œä½†æ˜¯å¦‚æœæ²¡æœ‰å…¶ä»–goroutineå¯ç”¨æˆ–å…¶ä»–goroutineç¡çœ ï¼Œç”±äºè¿™ç§æƒ…å†µï¼Œç¨‹åºå°†å´©æºƒã€‚è¿™ç§ç°è±¡ç§°ä¸ºæ­»é”ã€‚

**ä¿¡é“ï¼š**ä¿¡é“chanæ˜¯åŒå‘é€šä¿¡çš„ï¼Œå½“å‘é€æ–¹å¾€ä¿¡é“å–Šè¯æ—¶ï¼Œå¦‚æœæ²¡æœ‰æ¥æ”¶æ–¹æ¥æ”¶è¯¥ä¿¡é“çš„æ¶ˆæ¯ï¼Œå‘é€æ–¹å°±ä¼šè¿›å…¥é˜»å¡çŠ¶æ€å¹¶ä¸€ç›´ç­‰å¾…ï¼Œç›´åˆ°æœ‰æ¥æ”¶æ–¹æ¥ä¿¡é“å–èµ°è¿™ä¸ªæ•°æ®ï¼Œå‘é€æ–¹æ‰ä¼šç»§ç»­æ‰§è¡Œï¼ˆè¢«å”¤é†’ï¼‰ã€‚æ¥æ”¶æ–¹äº¦æ˜¯å¦‚æ­¤ï¼Œå¦‚æœä¿¡é“é‡Œæ²¡æœ‰æ•°æ®ä¼ è¿‡æ¥ï¼Œå®ƒä¼šä¸€ç›´é˜»å¡ç›´åˆ°æ¥æ”¶åˆ°ä¿¡é“é‡Œä¼ æ¥çš„æ•°æ®ã€‚

ç¤ºä¾‹:

```go
package main

func main() {

    //åˆ›å»ºé€šé“
    //å‡ºç°æ­»é”æ˜¯å› ä¸ºæ²¡æœ‰goroutineåœ¨å†™
    //å› æ­¤ï¼Œselectè¯­å¥è¢«æ°¸è¿œé˜»å¡
    c := make(chan int)
    select {
    case <-c:   //æ²¡æœ‰goroutineï¼ˆè½»é‡çº§çº¿ç¨‹ï¼ˆæºç¨‹ï¼‰ï¼‰å¾€cä¿¡é“å‘æ•°æ®
    }
}
```

**è¾“å‡ºï¼š**

```bash
fatal error: all goroutines are asleep - deadlock!

goroutine 1 [chan receive]:
main.main()
```

ä¸ºäº†é¿å…è¿™ç§æƒ…å†µï¼Œæˆ‘ä»¬åœ¨selectè¯­å¥ä¸­ä½¿ç”¨é»˜è®¤caseã€‚æ¢å¥è¯è¯´ï¼Œå½“ç¨‹åºä¸­å‡ºç°æ­»é”æ—¶ï¼Œå°†æ‰§è¡Œselectè¯­å¥çš„é»˜è®¤æƒ…å†µä»¥é¿å…æ­»é”ã€‚å¦‚ä¸‹ä¾‹æ‰€ç¤ºï¼Œæˆ‘ä»¬åœ¨selectè¯­å¥ä¸­ä½¿ç”¨é»˜è®¤æƒ…å†µä»¥é¿å…æ­»é”ã€‚

ç¤ºä¾‹:

```go
package main 
  
import "fmt"
  
func main() { 
  
    //åˆ›å»ºé€šé“
    c := make(chan int) 
    select { 
    case <-c: 
    default: 
        fmt.Println("!.. Default case..!") 
    } 
}

/*
!.. Default case..!
*/
```

**ä¸åŒgoroutineè¯»å†™chançš„é€Ÿåº¦ä¸ä¸€æ ·ï¼Œå¦‚ä½•è®©ä»–ä»¬æŒ‰è‡ªå·±çš„é€Ÿåº¦è¿›è¡Œè¯»å†™ï¼š**

ä¾‹å­ï¼š

```go
package main

import (
	"fmt"
	"time"
)

func main() {
	c1 := make(chan string)
	c2 := make(chan string)

	go func() {
		for {
			c1 <- "ğŸ‚"
			time.Sleep(time.Millisecond * 500) //æ¯0.5så¾€ä¿¡é“å‘é€ä¸€æ¬¡æ•°æ®
		}
	}()

	go func() {
		for {
			c2 <- "ğŸ"
			time.Sleep(time.Microsecond * 2000) //æ¯2så¾€ä¿¡é“å‘ä¸€æ¬¡æ•°æ®
		}
	}()
	start := time.Now()
	for {
		fmt.Println(time.Since(start), <-c1)
		fmt.Println(time.Since(start), <-c2)
	}
}
/*
0s ğŸ‚
0s ğŸ
0s ğŸ‚
506.0595ms ğŸ
2.0073228s ğŸ‚
2.0073228s ğŸ
4.0216007s ğŸ‚
4.0216007s ğŸ
6.029387s ğŸ‚
6.029387s ğŸ
8.0434833s ğŸ‚
8.0434833s ğŸ
10.0444728s ğŸ‚
10.0444728s ğŸ
12.0557536s ğŸ‚
12.0557536s ğŸ
14.0631639s ğŸ‚
14.0631639s ğŸ
16.0690597s ğŸ‚
...     å¯ä»¥çœ‹åˆ°æ•°ç‰›çš„ä»»åŠ¡å’Œæ•°ç¾Šçš„ä»»åŠ¡æ˜¯äº¤æ›¿è¿›è¡Œçš„ï¼Œä¸ºä»€ä¹ˆä¼šè¿™æ ·ï¼Ÿå› ä¸ºä»c1ï¼Œc2ä¸¤ä¸ªä¿¡é“æ¥æ”¶æ•°æ®æ˜¯ä¾æ¬¡é¡ºåºæ‰§è¡Œçš„ï¼Œå½“ä»ä¸€ä¸ªä¿¡é“æ¥æ”¶æ•°æ®æ—¶ï¼Œå¦ä¸€ä¸ªgoroutineå¤„äºé˜»å¡çŠ¶æ€ã€‚
*/
```

**å¦‚æœå®ç°è®©ä»–ä»¬ä¾æ¬¡æŒ‰ç…§è‡ªå·±å†™çš„é€Ÿåº¦è¿›è¡Œä¸‹å»ï¼š**

```go
package main

import (
	"fmt"
	"time"
)

func main() {
	c1 := make(chan string)
	c2 := make(chan string)

	go func() {
		for {
			c1 <- "ğŸ‚"
			time.Sleep(time.Millisecond * 500) //æ¯0.5så¾€ä¿¡é“å‘é€ä¸€æ¬¡æ•°æ®
		}
	}()

	go func() {
		for {
			c2 <- "ğŸ"
			time.Sleep(time.Microsecond * 2000) //æ¯2så¾€ä¿¡é“å‘ä¸€æ¬¡æ•°æ®
		}
	}()
	start := time.Now()
	for {
		select { //çœ‹å“ªä¸ªä¸é˜»å¡å°±å¯ä»¥ç›´æ¥è¢«è¿è¡Œï¼Œæ¯æ¬¡selectåªèƒ½åŒ¹é…ä¸€ä¸ªcase åœ¨selectè¯­å¥ä¸­ï¼Œå¦‚æœåŒæ—¶å‡†å¤‡å¥½å¤„ç†å¤šç§æƒ…å†µï¼Œéšæœºé€‰æ‹©å…¶ä¸­ä¸€ç§æ‰§è¡Œã€‚
		case msg1 := <-c1:
			fmt.Println(time.Since(start), msg1)
		case msg2 := <-c2:
			fmt.Println(time.Since(start), msg2)
		}
	}
}
/*
0s ğŸ‚
508.9Âµs ğŸ
512.4527ms ğŸ‚
1.0273803s ğŸ‚
1.5381367s ğŸ‚
2.0091653s ğŸ
2.0405138s ğŸ‚
2.5528212s ğŸ‚
3.0678698s ğŸ‚
3.5698039s ğŸ‚
4.023429s ğŸ
4.0708556s ğŸ‚
4.5837874s ğŸ‚
5.0877204s ğŸ‚
5.6005236s ğŸ‚
6.0265496s ğŸ
6.1055652s ğŸ‚
6.6201512s ğŸ‚
7.1221084s ğŸ‚
7.6334132s ğŸ‚
*/
```







### 4.å‡½æ•°&æ–¹æ³•

#### 4.1å‡½æ•°å£°æ˜

è¯­æ³•ï¼š

```go
func function_name(parameter_list) (return_type) {
    ...
}
```

- **funcï¼š**å®ƒæ˜¯Goè¯­è¨€çš„å…³é”®å­—ï¼Œç”¨äºåˆ›å»ºå‡½æ•°ã€‚

- **function_nameï¼š**å®ƒæ˜¯**å‡½æ•°**çš„åç§°ã€‚

- **parameter_listï¼š**åŒ…å«å‡½æ•°å‚æ•°çš„åç§°å’Œç±»å‹ã€‚

- **return_typeï¼š**è¿™æ˜¯å¯é€‰çš„ï¼Œå®ƒåŒ…å«**å‡½æ•°è¿”å›çš„å€¼çš„ç±»å‹**ã€‚å¦‚æœåœ¨å‡½æ•°ä¸­ä½¿ç”¨return_typeï¼Œåˆ™å¿…é¡»åœ¨å‡½æ•°ä¸­ä½¿ç”¨returnè¯­å¥ã€‚

```go
package main
import "fmt"
func area(width, height int) int {
	var area int
	area = width * height
	return area
}
func main() {
	fmt.Printf("%d\n", area(10, 12))  // 120
}

///////////////////////////
package main
import "fmt"
func swap(a *int, b *int) {
	t := *a
	*a = *b
	*b = t
}
func main() {
	a, b := 2, 3
	fmt.Printf("%d %d\n", a, b)
	swap(&a, &b)  //è°ƒç”¨å‡½æ•°
	fmt.Printf("%d %d\n", a, b)
}
/*
2 3
3 2
*/
```

#### 4.2å˜å‚å‡½æ•°

**å½“æˆ‘ä»¬ä½¿ç”¨å¯å˜å‚æ•°å‡½æ•°æ—¶ï¼š**

- å½“æ‚¨è¦åœ¨å‡½æ•°ä¸­ä¼ é€’**åˆ‡ç‰‡**æ—¶ï¼Œä½¿ç”¨å¯å˜å‚æ•°å‡½æ•°ã€‚
- å½“æˆ‘ä»¬**ä¸çŸ¥é“å‚æ•°çš„æ•°é‡**æ—¶ï¼Œä½¿ç”¨å¯å˜å‚æ•°å‡½æ•°ã€‚
- åœ¨ç¨‹åºä¸­ä½¿ç”¨å¯å˜å‚æ•°å‡½æ•°æ—¶ï¼Œå®ƒå¯ä»¥**å¢åŠ ç¨‹åºçš„å¯è¯»æ€§**ã€‚

**å®šä¹‰ï¼š**å…è®¸ç”¨æˆ·åœ¨å˜å‚å‡½æ•°ä¸­ä¼ é€’é›¶ä¸ªæˆ–å¤šä¸ªå‚æ•°ã€‚å…¶ä¸­`fmt.Printf`æ˜¯å¯å˜å‚æ•°å‡½æ•°çš„ç¤ºä¾‹ã€‚

```go
package main
import (
	"fmt"
	"strings"
)
func joinstr(str ...string) string { //å¯å˜å‚æ•°å‡½æ•°è¿æ¥å­—ç¬¦ä¸²
	return strings.Join(str, "")   // strå…¶å®å°±æ˜¯ä¸€ä¸ªåˆ‡ç‰‡ï¼Œé‡Œé¢çš„å…ƒç´ éƒ½stringç±»å‹
}
func main() {
	fmt.Printf("%s\n", joinstr("I", "love", "you"))
	fmt.Printf("%s\n", joinstr("A", "E", "I", "O", "U"))
}
/*
Iloveyou
AEIOU
*/
```

- åœ¨å¯å˜å‚æ•°å‡½æ•°çš„å£°æ˜ä¸­ï¼Œåªèƒ½åœ¨æœ€åä¸€ä¸ªå‚æ•°çš„ç±»å‹å‰é¢å¸¦æœ‰çœç•¥å·`...`ï¼Œå®ƒè¡¨æ˜è¯¥å‡½æ•°å¯ä»¥è°ƒç”¨ä»»æ„æ•°é‡çš„è¿™ç§ç±»å‹çš„å‚æ•°ã€‚
- `...type`çš„è¡Œä¸ºç±»ä¼¼äºåˆ‡ç‰‡ï¼ˆ`slice`ï¼‰ã€‚ä¾‹å¦‚ï¼Œfun(b ...int)ï¼Œç°åœ¨`...int`ç­‰ä»·äº`[]int`ã€‚
- è¿˜å¯ä»¥åœ¨å¯å˜å‚æ•°å‡½æ•°ä¸­ä¼ é€’ç°æœ‰åˆ‡ç‰‡ã€‚
- ä¸èƒ½å°†å¯å˜å‚æ•°ç”¨ä½œè¿”å›å€¼ï¼Œä½†å¯ä»¥å°†å…¶ä½œä¸ºåˆ‡ç‰‡è¿”å›ã€‚

```go
package main

import "fmt"

func fun(a string, b ...int) {
	fmt.Printf("%s\n", a)
	fmt.Printf("%d\n", b)
}

func main() {

	fun("hello", 2, 3, 4)
}
/*
hello
[2 3 4]
*/
```

- ä¼ å…¥å¤šä¸ªåŒç±»å‹çš„å‚æ•°

```go
package main

import (
	"fmt"
	"strings"
)

func fun(a ...string) {
	fmt.Printf("%s\n", a)   //æ‰“å°åˆ‡ç‰‡
	for idx, str := range a {
		fmt.Printf("%d %s\n", idx, str)
	}
	fmt.Printf("%s", strings.Join(a, "---"))   //åˆ‡ç‰‡ä¸­çš„å­—ç¬¦ä¸²ä»¥---éš”å¼€
}

func main() {

	fun("hello", "royal_111")
}
/*
[hello royal_111]
0 hello
1 royal_111
hello---royal_111
*/
```

- å¯å˜å‚æ•°ä¸­ä¼ é€’ä¸€ä¸ªåˆ‡ç‰‡

```go
package main

import (
	"fmt"
	"strings"
)

func fun(a ...string) {
	fmt.Printf("%s\n", a)
	for idx, str := range a {
		fmt.Printf("%d %s\n", idx, str)
	}
	fmt.Printf("%s", strings.Join(a, " "))
}

func main() {

    // åœ¨å¯å˜å‡½æ•°ä¸­ä¼ é€’ä¸€ä¸ªåˆ‡ç‰‡
	str := []string{"welcome", "royal_111", "to", "Go"}
	fun(str...)  // æ³¨æ„ä¼ å…¥åˆ‡ç‰‡çš„æ–¹å¼ï¼Œåé¢åŠ äº†...
}
/*
[welcome royal_111 to Go]
0 welcome
1 royal_111
2 to
3 Go
welcome royal_111 to Go
*/
```

#### 4.3åŒ¿åå‡½æ•°

å®šä¹‰ï¼šåŒ¿åå‡½æ•°æ˜¯ä¸åŒ…å«ä»»ä½•åç§°çš„å‡½æ•°ã€‚å½“æ‚¨è¦åˆ›å»ºå†…è”å‡½æ•°æ—¶ï¼Œæ­¤å‡½æ•°å¾ˆæœ‰ç”¨ã€‚åŒ¿åå‡½æ•°å¯ä»¥å½¢æˆé—­åŒ…ã€‚

è¯­æ³•ï¼š

```go
func(parameter_list) return_type {
    ...
    return
}()
```

æ³¨æ„ï¼š

1.å¯ä»¥å°†åŒ¿åå‡½æ•°åˆ†é…ç»™å˜é‡ï¼Œå˜é‡çš„ç±»å‹å°±æ˜¯å‡½æ•°ç±»å‹ã€‚å¯ä»¥åƒè°ƒç”¨å‡½æ•°ä¸€æ ·è°ƒç”¨å˜é‡ã€‚

2.åŒ¿åå‡½æ•°è¿˜å¯ä»¥ä½œä¸ºå‚æ•°ä¼ é€’ç»™å…¶å®ƒå‡½æ•°ï¼Œè¿˜å¯ä»¥ä»å¦ä¸€ä¸ªå‡½æ•°è¿”å›åŒ¿åå‡½æ•°ã€‚

```go
package main
import "fmt"
func main() {
	func(str string) {
		fmt.Printf("%s\n", str)
	}("hello")
}
// hello


package main
import "fmt"
var my_function func(string) = func(str string) {  //åŒ¿åå‡½æ•°èµ‹å€¼ç»™my_functionå˜é‡
	fmt.Printf("%s\n", str)
}
func main() {
	my_function("hello")
	fmt.Printf("%T\n", my_function)
}
/*
hello
func(string)
*/

package main
import "fmt"
//åŒ¿åå‡½æ•°ä½œä¸ºå‚æ•°ä¼ é€’
func GFG(i func(p, q string) string) {
	fmt.Println(i("Geeks", "for"))
}
func main() {
	value := func(p, q string) string {
		return p + q + "Geeks"
	}
	GFG(value) //åŒ¿åå‡½æ•°ä½œä¸ºå‚æ•°ä¼ é€’
}
/*
GeeksforGeeks
*/
```

#### 4.4å‡½æ•°è¿”å›å¤šä¸ªå€¼

å®šä¹‰ï¼šå…è®¸ä¸€ä¸ªreturnè¿”å›å¤šä¸ªå€¼ã€‚

è¯­æ³•ï¼š

```go
func function_name(parameter_list)(return_type_list) {  //(return_type_list)æ‹¬å·ä¸è¦çœç•¥ï¼Œå…»æˆä¹ æƒ¯
    ...
    return 
}
```

```go
package main

import "fmt"

func math_function(a, b int) (int, int, int) {
	return a + b, a - b, a * b
}

func main() {
	a, b, c := math_function(2, 1)
	fmt.Printf("%d %d %d\n", a, b, c)
}
/*
3 1 2
*/
```

**ä¸ºè¿”å›å€¼å‘½åï¼š**åœ¨Goè¯­è¨€ä¸­ï¼Œå…è®¸ä¸ºè¿”å›å€¼æä¾›åç§°ã€‚ä½ ä¹Ÿå¯ä»¥åœ¨ä»£ç ä¸­ä½¿ç”¨è¿™äº›å˜é‡åã€‚æ²¡æœ‰å¿…è¦ç”¨returnè¯­å¥æ¥ç¼–å†™è¿™äº›åç§°ï¼Œå› ä¸ºGoç¼–è¯‘å™¨å°†è‡ªåŠ¨ç†è§£è¿™äº›å˜é‡å¿…é¡»è¢«åˆ†æ´¾å›å»ã€‚è¿™ç§ç±»å‹çš„å›æŠ¥è¢«ç§°ä¸º**è£¸å›æŠ¥**ã€‚ç®€å•çš„è¿”å›å‡å°‘äº†ç¨‹åºä¸­çš„é‡å¤ã€‚

```go
package main

import "fmt"

func math_function(a, b int) (add, sub, mul int, res string) { //é»˜è®¤è¿”å›è¿™å››ä¸ªå˜é‡
	add, sub, mul = a+b, a-b, a*b
	res = "OK"
	return   //è£¸è¿”
}

func main() {
	a, b, c, res := math_function(2, 1)
	fmt.Printf("%d %d %d %s\n", a, b, c, res)
}
/*
3 1 2 OK
*/
```

#### 4.5ç©ºç™½æ ‡è¯†ç¬¦ï¼ˆä¸‹åˆ’çº¿ï¼‰

ä½œç”¨ï¼šGolangæ˜¯ä¸€ç§æ›´åŠ ç®€æ´å’Œå¯è¯»çš„ç¼–ç¨‹è¯­è¨€ï¼Œå› æ­¤å®ƒä¸å…è®¸ç¨‹åºå‘˜å®šä¹‰æœªä½¿ç”¨çš„å˜é‡ï¼Œå¦‚æœä½ è¿™æ ·åšï¼Œç¼–è¯‘å™¨å°†æŠ›å‡ºä¸€ä¸ªé”™è¯¯ã€‚å› æ­¤ç”¨**ç©ºç™½æ ‡è¯†ç¬¦`_`å®šä¹‰çš„å˜é‡å¯ä»¥ä¸ä½¿ç”¨**ï¼Œå®ƒå‘Šè¯‰ç¼–è¯‘å™¨ä¸éœ€è¦æ­¤å˜é‡ï¼Œå¹¶ä¸”å°†å…¶å¿½ç•¥è€Œæ²¡æœ‰ä»»ä½•é”™è¯¯ï¼Œ**å¹¶ä¸”`_`ä¸å¯ç”¨**ã€‚

```go
package main
import "fmt"
func main() {

	//è°ƒç”¨å‡½æ•°
	//å‡½æ•°è¿”å›ä¸¤ä¸ªå€¼
	//åˆ†é…ç»™mulå’Œç©ºç™½æ ‡è¯†ç¬¦
	mul, _ := mul_div(105, 7)

	//åªä½¿ç”¨mulå˜é‡
	fmt.Println("105 x 7 = ", mul)
}

func mul_div(n1 int, n2 int) (int, int) {
	//è¿”å›å€¼
	return n1 * n2, n1 / n2
}
/*
105 x 7 =  735
*/
```

#### 4.6æ–¹æ³•(method)

å®šä¹‰ï¼šGoæ–¹æ³•ä¸Goå‡½æ•°ç›¸ä¼¼ï¼Œä½†æœ‰ä¸€ç‚¹ä¸åŒï¼Œå°±æ˜¯æ–¹æ³•ä¸­åŒ…å«ä¸€ä¸ªæ¥æ”¶è€…å‚æ•°ã€‚åœ¨æ¥æ”¶è€…å‚æ•°çš„å¸®åŠ©ä¸‹ï¼Œè¯¥æ–¹æ³•å¯ä»¥è®¿é—®æ¥æ”¶è€…çš„å±æ€§ã€‚åœ¨è¿™é‡Œï¼Œæ¥æ”¶æ–¹å¯ä»¥æ˜¯ç»“æ„ç±»å‹æˆ–éç»“æ„ç±»å‹ã€‚åœ¨ä»£ç ä¸­åˆ›å»ºæ–¹æ³•æ—¶ï¼Œæ¥æ”¶è€…å’Œæ¥æ”¶è€…ç±»å‹çš„å®šä¹‰å¿…é¡»å‡ºç°åœ¨åŒä¸€ä¸ªåŒ…ä¸­ã€‚è€Œä¸”ä¸å…è®¸åˆ›å»ºä¸€ä¸ªæ–¹æ³•ï¼Œå…¶ä¸­çš„æ¥æ”¶è€…ç±»å‹å·²ç»åœ¨å¦ä¸€ä¸ªåŒ…ä¸­å®šä¹‰ï¼ŒåŒ…æ‹¬åƒintã€stringç­‰å†…å»ºç±»å‹ã€‚å¦‚æœæ‚¨å°è¯•è¿™æ ·åšï¼Œé‚£ä¹ˆç¼–è¯‘å™¨å°†æŠ›å‡ºé”™è¯¯ã€‚ï¼ˆå¥½å¥½ç†è§£ï¼‰

**è¯­æ³•ï¼š**

```go
func(reciver_name Type) method_name(parameter_list)(return_type){
    // Code  //åœ¨æ­¤ï¼Œå¯ä»¥åœ¨æ–¹æ³•å†…è®¿é—®æ¥æ”¶å™¨ã€‚
}
```

- **ç»“æ„ç±»å‹æ¥æ”¶å™¨çš„æ–¹æ³•**ï¼šå®šä¹‰å…¶æ¥æ”¶è€…ä¸ºç»“æ„ç±»å‹çš„æ–¹æ³•ã€‚å¯ä»¥åœ¨æ–¹æ³•å†…éƒ¨è®¿é—®æ­¤æ¥æ”¶å™¨ï¼š

```go
package main

import "fmt"

// type ç±»ä¼¼äºc/c++çš„#define è‡ªå®šä¹‰ç±»å‹
type user struct {
	name   string
	age    int
	salary int
}

func (a user) show(pay int) (total_salary int) {
	fmt.Printf("my name is %s, i'm %d years old.\n", a.name, a.age)
	total_salary = pay + a.salary
	return
}

func main() {
	person := user{
		name:   "royal_111",
		age:    22,
		salary: 200000,
	}
	salary := person.show(100) //è°ƒç”¨æ–¹æ³•ç”¨.method()
	fmt.Printf("my salary is %d.\n", salary)
}
/*
my name is royal_111, i'm 22 years old.
my salary is 200100.
*/
```

- **éç»“æ„ç±»å‹æ¥æ”¶å™¨çš„æ–¹æ³•ï¼š**åªè¦ç±»å‹å’Œæ–¹æ³•å®šä¹‰å­˜åœ¨äºåŒä¸€åŒ…ä¸­ï¼Œå°±å¯ä»¥ä½¿ç”¨éç»“æ„ç±»å‹æ¥æ”¶å™¨åˆ›å»ºæ–¹æ³•ã€‚å¦‚æœå®ƒä»¬å­˜åœ¨äºintï¼Œstringç­‰ä¸åŒçš„åŒ…ä¸­ï¼Œåˆ™ç¼–è¯‘å™¨å°†æŠ›å‡ºé”™è¯¯ï¼Œå› ä¸ºå®ƒä»¬æ˜¯åœ¨ä¸åŒçš„åŒ…ä¸­å®šä¹‰çš„ã€‚

```go
//è¯´ç™½äº†å®šä¹‰æ–¹æ³•ï¼Œå°±éœ€è¦è‡ªå®šä¹‰æ¥æ”¶å™¨ç±»å‹ï¼Œä¸èƒ½ä½¿ç”¨int stringè¿™ç§åœ¨å…¶å®ƒåŒ…ä¸­å®šä¹‰å¥½çš„ç±»å‹

//æŠ¥é”™çš„ä¸¾ä¾‹ï¼š
package main

import "fmt"

func (a int) add(b int) (c int) { //cannot define new methods on non-local type int
	c = a + b
	return
}

func main() {
	a := 5
	fmt.Println(a.add(3))
}
/*
.\main.go:5:7: cannot define new methods on non-local type int
*/

//æ­£ç¡®ç¤ºèŒƒï¼Œåº”è¯¥è‡ªå·±å®šä¹‰æ¥æ”¶è€…ç±»å‹
package main

import "fmt"

type Integer int

func (a Integer) add(b Integer) (c Integer) { 
	c = a + b
	return
}

func main() {
	a := Integer(5)   //å¿…é¡»å¼ºè½¬ç±»å‹ä¸€è‡´
	var b Integer = 4
	fmt.Println(a.add(3), b.add(6)) //5 + 3   4 + 6
}
/*
8 10
*/
```

- **æ–¹æ³•å¯ä»¥æ¥å—æŒ‡é’ˆå’Œå€¼ï¼šä¸€ç‚¹éƒ½ä¸ç¬¦åˆè§„èŒƒ**ã€‚åœ¨Goä¸­ï¼Œå½“ä¸€ä¸ªå‡½æ•°å…·æœ‰å€¼å‚æ•°æ—¶ï¼Œå®ƒå°†ä»…æ¥å—å‚æ•°çš„å€¼ï¼Œå¦‚æœæ‚¨å°è¯•å°†æŒ‡é’ˆä¼ é€’ç»™å€¼å‡½æ•°ï¼Œåˆ™å®ƒå°†ä¸æ¥å—ï¼Œåä¹‹äº¦ç„¶ã€‚**ä½†æ˜¯Goæ–¹æ³•**å¯ä»¥æ¥å—**å€¼å’ŒæŒ‡é’ˆ**ï¼Œæ— è®ºå®ƒæ˜¯ä½¿ç”¨æŒ‡é’ˆè¿˜æ˜¯å€¼æ¥æ”¶å™¨å®šä¹‰çš„ã€‚

```go
package main

import "fmt"

// Author ç»“æ„ä½“
type author struct {
	name   string
	branch string
}

//å¸¦æœ‰æŒ‡é’ˆçš„æ–¹æ³•
//*authorç±»å‹çš„æ¥æ”¶è€…
func (a *author) show_1(abranch string) {
	(*a).branch = abranch
}

//å¸¦æœ‰å€¼çš„æ–¹æ³•
//authorç±»å‹çš„æ¥æ”¶è€…
func (a author) show_2() {
	a.name = "Gourav"
	fmt.Println("Author's name(Before) : ", a.name)
}

func main() {

	//åˆå§‹åŒ–å€¼
	//ä½œè€…ç»“æ„ä½“
	res := author{
		name:   "Sona",
		branch: "CSE",
	}

	fmt.Println("Branch Name(Before): ", res.branch)

	//è°ƒç”¨show_1æ–¹æ³•
	//(&res).show_1("ECE")  è¿™ç§ç¬¦åˆè§„èŒƒ
	res.show_1("ECE")
	fmt.Println("Branch Name(After): ", res.branch)

	//è°ƒç”¨show_2æ–¹æ³•
	//res.show_2()  è¿™ç§ç¬¦åˆè§„èŒƒ
	(&res).show_2()
	fmt.Println("Author's name(After): ", res.name)
}
/*
Branch Name(Before):  CSE
Branch Name(After):  ECE
Author's name(Before) :  Gourav
Author's name(After):  Sona
*/
```

![image-20231202111957624](./../../images/image-20231202111957624.png)

#### 4.7åŒåæ–¹æ³•

å®šä¹‰ï¼šåœ¨Goè¯­è¨€ä¸­ï¼Œå…è®¸åœ¨åŒä¸€åŒ…ä¸­**åˆ›å»ºä¸¤ä¸ªæˆ–å¤šä¸ªå…·æœ‰ç›¸åŒåç§°çš„æ–¹æ³•**ï¼Œä½†æ˜¯è¿™äº›æ–¹æ³•çš„æ¥æ”¶è€…**å¿…é¡»å…·æœ‰ä¸åŒçš„ç±»å‹**ã€‚è¯¥åŠŸèƒ½åœ¨Go**å‡½æ•°**ä¸­ä¸å¯ç”¨ï¼Œè¿™æ„å‘³ç€ä¸å…è®¸æ‚¨åœ¨åŒä¸€åŒ…ä¸­åˆ›å»ºç›¸åŒåç§°çš„å‡½æ•°ï¼Œå¦‚æœå°è¯•è¿™æ ·åšï¼Œåˆ™ç¼–è¯‘å™¨å°†æŠ›å‡ºé”™è¯¯ã€‚

```go
package main

import "fmt"

//åˆ›å»ºç»“æ„ä½“
type student struct {
	name   string
	branch string
}

type teacher struct {
	language string
	marks    int
}

//åç§°ç›¸åŒçš„æ–¹æ³•ï¼Œä½†æœ‰ä¸åŒç±»å‹çš„æ¥æ”¶å™¨
func (s student) show() {

	fmt.Println("å­¦ç”Ÿå§“å:", s.name)
	fmt.Println("Branch: ", s.branch)
}

func (t teacher) show() {

	fmt.Println("Language:", t.language)
	fmt.Println("Student Marks: ", t.marks)
}

func main() {

	// åˆå§‹åŒ–ç»“æ„ä½“çš„å€¼
	val1 := student{"Rohit", "EEE"}

	val2 := teacher{"Java", 50}

	//è°ƒç”¨æ–¹æ³•
	val1.show()
	val2.show()
}
/*
åœ¨ä¸Šé¢çš„ç¤ºä¾‹ä¸­ï¼Œæˆ‘ä»¬æœ‰ä¸¤ä¸ªç›¸åŒçš„åç§°æ–¹æ³•ï¼Œå³show()ï¼Œä½†æ¥æ”¶å™¨çš„ç±»å‹ä¸åŒã€‚è¿™é‡Œï¼Œç¬¬ä¸€ä¸ªshow()æ–¹æ³•åŒ…å«s studentç±»å‹çš„æ¥æ”¶è€…ï¼Œç¬¬äºŒä¸ªshow()æ–¹æ³•åŒ…å«t teacherç±»å‹çš„æ¥æ”¶è€…ã€‚åœ¨main()å‡½æ•°ä¸­ï¼Œæˆ‘ä»¬å€ŸåŠ©å„è‡ªçš„ç»“æ„ä½“å˜é‡æ¥è°ƒç”¨è¿™ä¸¤ç§æ–¹æ³•ã€‚å¦‚æœå°è¯•ä½¿ç”¨ç›¸åŒç±»å‹çš„æ¥æ”¶å™¨åˆ›å»ºæ­¤show()æ–¹æ³•ï¼Œåˆ™ç¼–è¯‘å™¨å°†æŠ›å‡ºé”™è¯¯ã€‚

å­¦ç”Ÿå§“å: Rohit
Branch:  EEE
Language: Java
Student Marks:  50
*/
```

#### 4.8 Deferå…³é”®å­—

åœ¨Goè¯­è¨€ä¸­ï¼Œdeferè¯­å¥ä¼šå»¶è¿Ÿ[å‡½æ•°](https://www.cainiaoplus.com/golang/go-functions.html)æˆ–æ–¹æ³•æˆ–[åŒ¿åæ–¹æ³•](https://www.cainiaoplus.com/404.html)çš„æ‰§è¡Œï¼Œç›´åˆ°é™„è¿‘çš„å‡½æ•°è¿”å›ä¸ºæ­¢ã€‚æ¢å¥è¯è¯´ï¼Œå»¶è¿Ÿå‡½æ•°æˆ–æ–¹æ³•è°ƒç”¨å‚æ•°ä¼šç«‹å³æ±‚å€¼ï¼Œä½†æ˜¯å®ƒä»¬ä¼šæ‰§è¡Œåˆ°é™„è¿‘çš„å‡½æ•°è¿”å›ä¸ºæ­¢ã€‚æ‚¨å¯ä»¥ä½¿ç”¨deferå…³é”®å­—åˆ›å»ºå»¶è¿Ÿçš„æ–¹æ³•ï¼Œå‡½æ•°æˆ–åŒ¿åå‡½æ•°ã€‚

**è¯­æ³•ï¼š**

```go
// å‡½æ•°
defer func func_name(parameter_list Type) return_type{
    // Code
}

// æ–¹æ³•
defer func (receiver Type) method_name(parameter_list){
    // Code
}

defer func (parameter_list)(return_type){
    // code
}()
```

**æ³¨æ„äº‹é¡¹ï¼š**

- åœ¨Goè¯­è¨€ä¸­ï¼ŒåŒä¸€ç¨‹åºä¸­å…è®¸å¤šä¸ªdeferè¯­å¥ï¼Œå¹¶ä¸”å®ƒä»¬æŒ‰**LIFOï¼ˆåè¿›å…ˆå‡ºï¼‰**é¡ºåºæ‰§è¡Œï¼Œå¦‚ç¤ºä¾‹2æ‰€ç¤ºã€‚
- åœ¨deferè¯­å¥ä¸­ï¼Œå°†åœ¨æ‰§è¡Œdeferè¯­å¥æ—¶ï¼ˆè€Œä¸æ˜¯åœ¨è°ƒç”¨å®ƒä»¬æ—¶ï¼‰è¯„ä¼°å‚æ•°ã€‚
- deferè¯­å¥é€šå¸¸ç”¨äºç¡®ä¿åœ¨å®Œæˆæ–‡ä»¶å¤„ç†åå…³é—­æ–‡ä»¶ï¼Œå…³é—­é€šé“æˆ–æ•è·ç¨‹åºä¸­çš„ç´§æ€¥æƒ…å†µã€‚

```go
package main 
  
import "fmt"
  
// å‡½æ•°
func add(a1, a2 int) int { 
    res := a1 + a2 
    fmt.Println("Result: ", res) 
    return 0 
} 
  
func main() { 
  
    fmt.Println("Start") 
  
    //å¤šä¸ªå»¶è¿Ÿè¯­å¥
    //ä»¥LIFOé¡ºåºæ‰§è¡Œ
    defer fmt.Println("End") 
    defer add(34, 56) 
    defer add(10, 10) 
}
/*
Start
Result:  20
Result:  90
End
*/
```





### 5.ç»“æ„ä½“

#### 5.1åŸºæœ¬æ¦‚å¿µ

**ä¸æ”¯æŒç»§æ‰¿ä½†æ”¯æŒç»„åˆçš„è½»é‡çº§ç±»**ã€‚

- åˆ©ç”¨**type**è‡ªå®šä¹‰æ–°ç±»å‹ï¼Œä¾‹å¦‚ï¼š`type my_integer int`ï¼Œä»¥å`my_integer`å’Œ`int`ä½œç”¨ç­‰ä»·ï¼Œç±»ä¼¼`c/c++`çš„`#define`ã€‚

è¯­æ³•ï¼š

```go
type struct_name struct {
    ... //æˆå‘˜å˜é‡
}

//ä¾‹å¦‚å®šä¹‰ä¸€ä¸ªç”¨æˆ·ç»“æ„ä½“
type User struct {
    username, password string
    age int
}

//å£°æ˜ä¸€ä¸ªç”¨æˆ·ç±»å‹çš„å˜é‡ï¼Œé»˜è®¤æƒ…å†µä¸‹åˆå€¼ä¸º""æˆ–0
var a User

//ä½¿ç”¨ç»“æ„å­—é¢é‡Useræ¥åˆå§‹åŒ–Userç±»å‹çš„å˜é‡
var b = User{"royal_111", "123456", 22}

//è¿˜å¯ä»¥å¯¹éƒ¨åˆ†æˆå‘˜å˜é‡åˆå§‹åŒ–,å…¶å®ƒæœªåˆå§‹åŒ–çš„é»˜è®¤ä¸ºå¯¹åº”çš„é›¶
c := User{username:"royal", age:22}

var a User
a.age = 11

//è®¿é—®Userç»“æ„ä½“çš„æˆå‘˜å˜é‡ï¼Œç”¨(.)è¿ç®—ç¬¦

```

- æŒ‡å‘ç»“æ„ä½“çš„æŒ‡é’ˆå¼•ç”¨æˆå‘˜å˜é‡å’Œ`c/c++`æœ‰ä¸€å®šåŒºåˆ«ï¼Œå¦‚ä¸‹ï¼š

```go
package main

import (
	"fmt"
)

type User struct {
	username, password string
	age, salary        int
}

func main() {
	//å®šä¹‰ä¸€ä¸ªæŒ‡å‘Userç±»å‹çš„ç»“æ„ä½“æŒ‡é’ˆ
	p := &User{"royal_111", "123456", 22, 300000}
	//ä¼ ç»Ÿçš„å¼•ç”¨æ–¹æ³•ï¼Œæ˜¾ç¤ºçš„è§£å¼•ç”¨
	fmt.Printf("%s %d\n", (*p).username, (*p).salary)

	//Golangä¸ºæˆ‘ä»¬æä¾›äº†éæ˜¾ç¤ºçš„å¼•ç”¨æˆå‘˜å˜é‡
	fmt.Println(p.username, p.salary)
}
/*
royal_111 300000
royal_111 300000
*/
```

- åŒç±»å‹çš„ç»“æ„ä½“å˜é‡åˆ¤æ–­æ˜¯å¦ç›¸ç­‰å¯ä»¥ç›´æ¥ä½¿ç”¨`==`è¿›è¡Œåˆ¤æ–­ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨`reflect`åŒ…ä¸‹çš„`DeepEqual()`å‡½æ•°ã€‚

```go
type User struct {
    username, password string
}

u1 := User{
    username:"royal"
    password:"123456"
}

u2 := User {
    username:"royal"
    password:"123456"
}

// ==
if u1 == u2 {
    ...
}

//DeeplyEquel()
if reflect.DeepEquel(u1, u2) {
    ...
}


package main
import (
	"fmt"
	"reflect"
)
type User struct {
	username, password string
	age, salary        int
}
func main() {
	u1 := User{"roayl", "123", 22, 123456}
	u2 := User{
		"roayl",
		"123",
		22,
		123456,
	}
	fmt.Println(reflect.DeepEqual(u1, u2), (u1 == u2))
}
/*
true true
*/
```

#### 5.2åŒ¿åç»“æ„ä½“

- åŒ¿åç»“æ„ä½“

å®šä¹‰ï¼šæ²¡æœ‰åç§°çš„ç»“æ„ä½“ã€‚

è¯­æ³•ï¼š

```go
variable_name := struct {
	//æˆå‘˜å˜é‡
}{
	//å¯¹åº”çš„å€¼
}
```

```go
package main

import (
	"fmt"
)

func main() {

	user := struct {
		username, password string
		age                int
	}{
		"royal", "123", 22,
	}
	
	fmt.Printf("%T\n", user)
	fmt.Println(user)
}
/*
struct { username string; password string; age int }
{royal 123 22}
*/
```

- **åŒ¿åå­—æ®µ**ï¼ˆæˆå‘˜å˜é‡ï¼‰ï¼šåœ¨Goç»“æ„ä¸­ï¼Œå…è®¸åˆ›å»ºåŒ¿åå­—æ®µã€‚åŒ¿åå­—æ®µæ˜¯é‚£äº›ä¸åŒ…å«ä»»ä½•åç§°çš„å­—æ®µï¼Œä½ åªéœ€è¦æåˆ°å­—æ®µçš„ç±»å‹ï¼Œç„¶åGoå°±ä¼šè‡ªåŠ¨ä½¿ç”¨è¯¥ç±»å‹ä½œä¸ºå­—æ®µï¼ˆæˆå‘˜å˜é‡ï¼‰çš„åç§°ã€‚å¦‚ä¸‹ï¼š

```go
package main

import (
	"fmt"
)

type User struct {
	username, password string  //å‘½åå­—æ®µ
	int    //åŒ¿åå­—æ®µ
}

func main() {
	user := User{
		"royal", "123", 55,
	}
	fmt.Printf("%s %s %d\n", user.password, user.username, user.int)  //è‡ªåŠ¨ä½¿ç”¨è¯¥ç±»å‹ä½œä¸ºæˆå‘˜å˜é‡çš„åç§°
}
/*
123 royal 55
*/
```

#### 5.3å‡½æ•°ç”¨ä½œç»“æ„ä½“å­—æ®µ(ä¸é‡è¦)

- æˆ‘ä»¬çŸ¥é“åœ¨Goè¯­è¨€ä¸­å‡½æ•°ä¹Ÿæ˜¯ç”¨æˆ·å®šä¹‰çš„ç±»å‹ï¼Œæ‰€ä»¥ä½ å¯ä»¥åœ¨Goç»“æ„ä½“ä¸­åˆ›å»ºä¸€ä¸ªå‡½æ•°å­—æ®µï¼ˆå‡½æ•°æˆå‘˜å˜é‡ï¼‰ã€‚

```go
// ä½œä¸ºGoç»“æ„ä¸­çš„å­—æ®µ
package main
import "fmt"
// Finalsalaryå‡½æ•°ç±»å‹
type Finalsalary func(int, int) int
//åˆ›å»ºç»“æ„
type Author struct {
	name      string
	language  string
	Marticles int
	Pay       int
	//å‡½æ•°ä½œä¸ºå­—æ®µ
	salary Finalsalary
}
func main() {
	// åˆå§‹åŒ–å­—æ®µç»“æ„
	result := Author{
		name:      "Sonia",
		language:  "Java",
		Marticles: 120,
		Pay:       500,
		salary: func(Ma int, pay int) int {
			return Ma * pay
		},
	}
	fmt.Println("ä½œè€…å§“å: ", result.name)
	fmt.Println("è¯­è¨€: ", result.language)
	fmt.Println("äº”æœˆä»½å‘è¡¨çš„æ–‡ç« æ€»æ•°: ", result.Marticles)
	fmt.Println("æ¯ç¯‡æŠ¥é…¬: ", result.Pay)
	fmt.Println("æ€»å·¥èµ„: ", result.salary(result.Marticles, result.Pay))
}
/*
ä½œè€…å§“å:  Sonia
è¯­è¨€:  Java
äº”æœˆä»½å‘è¡¨çš„æ–‡ç« æ€»æ•°:  120
æ¯ç¯‡æŠ¥é…¬:  500
æ€»å·¥èµ„:  60000
*/
```

### 6.åˆ‡ç‰‡&å‡½æ•°ï¼ˆé‡ç‚¹ï¼‰

#### 6.1æ•°ç»„

å®šä¹‰ï¼šå­˜å‚¨ä¸€ç»„åŒç±»å‹çš„æ•°æ®ï¼Œç¼ºç‚¹ï¼š**å›ºå®šé•¿åº¦**ã€‚

- åˆ›å»ºæ•°ç»„ï¼ˆä¸¤ç§æ–¹å¼ï¼‰ï¼š

- **æ–¹æ³•ä¸€ï¼šä½¿ç”¨varå…³é”®å­—**ï¼š

```go
var arr_name [const_length]type
//ä¾‹å¦‚ï¼šå®šä¹‰ä¸€ä¸ªé•¿åº¦ä¸º100çš„æ•´æ•°æ•°ç»„a
var a [100]int   //var åç§° [å¤§å°]ç±»å‹
```

```go
package main
import (
	"fmt"
)
func main() {
	var a [3]int
	for i := 0; i < len(a); i++ {
		a[i] = (i + 1) * (i + 1)
	}
	for _, v := range a {
		fmt.Printf("%d\n", v)
	}
}
/*
1
4
9
*/
```

- **æ–¹æ³•äºŒï¼šç®€å†™å£°æ˜ï¼Œå®ƒæ¯”ä¸Šé¢çš„å£°æ˜æ›´çµæ´»**

```go
arr_name := [const_length]type{item1, item2, ...}

//å®šä¹‰ä¸€ä¸ªé•¿åº¦ä¸º3çš„æ•´æ•°æ•°ç»„aï¼ŒèŠ±æ‹¬å·{}ä¸å¯çœç•¥ï¼Œä¹Ÿå¯ä»¥éƒ¨åˆ†åˆå§‹åŒ–ï¼Œæœªåˆå§‹åŒ–å…ƒç´ çš„é»˜è®¤ä¸º0
a := [3]int{}
a := [3]int{1,2}

//æ— éœ€å†™å‡ºé•¿åº¦
a := [...]int{-1, 0, 1, 0}
```

- å¤šç»´æ•°ç»„

```go
package main
import (
	"fmt"
)
const N = 3
func main() {
	//æ–¹å¼ä¸€varå®šä¹‰æ•°ç»„
	var a [N][N]int
	for i := 0; i < N; i++ {
		for j := 0; j < N; j++ {
			a[i][j] = i*N + j
		}
	}
	for k, v := range a {
		fmt.Printf("%d %d\n", k, v)
	}
	//æ–¹å¼äºŒç®€å†™ï¼Œéƒ¨åˆ†åˆå§‹åŒ–ï¼Œå…¶ä½™é»˜è®¤ä¸º0
	b := [N][N]int{{1, 2, 3},
		{4, 5, 6},
	}
	for i := 0; i < N; i++ { //åˆå§‹åŒ–ç¬¬ä¸‰è¡Œ
		b[2][i] = 2*3 + i + 1
	}
	for _, arr := range b { //éå†æ¯ä¸ªä¸€ç»´æ•°ç»„
		for _, v := range arr { //éå†æ¯ä¸ªä¸€ç»´æ•°ç»„ä¸­çš„æ¯ä¸€ä¸ªå…ƒç´ 
			fmt.Printf("%d\n", v)
		}
	}
}
/*
0 [0 1 2]
1 [3 4 5]
2 [6 7 8]
1
2
3
4
5
6
7
8
9
*/
```

- åœ¨æ•°ç»„ä¸­ï¼Œä½ å¯ä»¥ä½¿ç”¨`len()`å‡½æ•°è·å–æ•°ç»„çš„é•¿åº¦ã€‚
- åˆ›å»ºå¤§å°å·²ç¡®å®šçš„æ•°ç»„ï¼Œæ ¹æ®å…¶ä¸­å…ƒç´ çš„æ•°é‡ç¡®å®šï¼Œä½¿ç”¨çœç•¥å·`...`ï¼Œå¦‚ä¸‹æ‰€ç¤º

```go
// åˆ›å»ºå¤§å°å·²ç¡®å®šçš„æ•°ç»„ï¼Œæ ¹æ®å…¶ä¸­å…ƒç´ çš„æ•°é‡ç¡®å®šï¼Œä½¿ç”¨çœç•¥å·...ï¼Œå¦‚ä¸‹æ‰€ç¤º
a := [...]int{-1, 0, 1, 0}

a := []int{-1, 0, 1, 0}   //è¿™æ˜¯åˆ‡ç‰‡
len(a)  //4
```

- **å°†ä¸€ä¸ªæ•°ç»„ç”¨ç­‰å·èµ‹å€¼ç»™å¦ä¸€ä¸ªæ•°ç»„æ—¶ï¼Œæ–°æ•°ç»„å‘ç”Ÿæ”¹å˜å¹¶ä¸ä¼šå½±å“åŸæ•°ç»„ï¼ŒåŸæ•°ç»„ä¾æ—§ä¸å˜ã€‚åœ¨c++ä¸­ï¼Œæ•°ç»„åä»£è¡¨é¦–åœ°å€ï¼Œè€Œåœ¨goè¯­è¨€ä¸­ï¼Œæ•°ç»„åä¸æ˜¯å¼•ç”¨ç±»å‹ã€‚**

```go
package main

import (
	"fmt"
)

func main() {
	a := [...]int{-1, 0, 1, 0}
	b := a
	b[0] = 100  //å¯¹bæ•°ç»„æ”¹å˜ï¼Œaæ•°ç»„ä¸å˜
	fmt.Println(b, a)
}
/*
[100 0 1 0] [-1 0 1 0] 
*/


package main
import (
	"fmt"
)
func main() {
	var a [3]int //0 1 2
	for i := 0; i < 3; i++ {
		a[i] = i
	}
	b := a  
	b[0] = 100  //å¯¹bæ•°ç»„æ”¹å˜ï¼Œaæ•°ç»„ä¸å˜
	fmt.Println(b, a)
}
/*
[100 1 2] [0 1 2]
*/



package main
import (
	"fmt"
)
func main() {
	a := []int{-1, 0, 1, 0}   //åˆ›å»ºçš„åˆ‡ç‰‡
	b := a
	b[0] = 100  //å¯¹bæ”¹å˜ï¼Œaæ”¹å˜
	fmt.Println(b, a)
}
/*
[100 0 1 0] [100 0 1 0] 
*/
```

- åœ¨æ•°ç»„ä¸­ï¼Œå¦‚æœæ•°ç»„çš„å…ƒç´ ç±»å‹æ˜¯å¯æ¯”è¾ƒçš„ï¼Œåˆ™æ•°ç»„ç±»å‹ä¹Ÿæ˜¯å¯æ¯”è¾ƒçš„ã€‚å› æ­¤ï¼Œ**æˆ‘ä»¬å¯ä»¥ä½¿ç”¨`==`è¿ç®—ç¬¦ç›´æ¥æ¯”è¾ƒä¸¤ä¸ªæ•°ç»„ï¼Œå‰ææ˜¯ä¸¤ä¸ªæ•°ç»„çš„ç±»å‹å’Œé•¿åº¦éƒ½å¿…é¡»ä¸€æ ·ï¼Œå¦åˆ™æŠ¥é”™**ã€‚

#### 6.2æ•°ç»„å¤åˆ¶

Golangæ²¡æœ‰æä¾›å°†ä¸€ä¸ªæ•°ç»„å¤åˆ¶åˆ°å¦ä¸€ä¸ªæ•°ç»„çš„ç‰¹å®šå†…ç½®å‡½æ•°ã€‚ä½†æ˜¯æˆ‘ä»¬å¯ä»¥ç®€å•åœ°é€šè¿‡å€¼æˆ–å¼•ç”¨å°†æ•°ç»„åˆ†é…ç»™æ–°å˜é‡æ¥åˆ›å»ºæ•°ç»„çš„å‰¯æœ¬ã€‚

å¦‚æœæˆ‘ä»¬é€šè¿‡å€¼åˆ›å»ºæ•°ç»„çš„å‰¯æœ¬å¹¶åœ¨åŸå§‹æ•°ç»„çš„å€¼ä¸­è¿›è¡Œäº†ä¸€äº›æ›´æ”¹ï¼Œåˆ™å®ƒä¸ä¼šåæ˜ åœ¨è¯¥æ•°ç»„çš„å‰¯æœ¬ä¸­ã€‚ è€Œä¸”ï¼Œå¦‚æœæˆ‘ä»¬é€šè¿‡å¼•ç”¨åˆ›å»ºæ•°ç»„çš„å‰¯æœ¬ï¼Œå¹¶å¯¹åŸå§‹æ•°ç»„çš„å€¼è¿›è¡Œäº†ä¸€äº›æ›´æ”¹ï¼Œé‚£ä¹ˆå®ƒå°†åæ˜ åœ¨è¯¥æ•°ç»„çš„å‰¯æœ¬ä¸­ã€‚

è¯­æ³•ï¼š

```go
//æŒ‰å€¼åˆ›å»ºæ•°ç»„çš„å‰¯æœ¬ï¼Œç†è§£ä¸ºä¸¤ä¸ªä¸åŒçš„ç©ºé—´
arr := arr1  //ç±»å‹ä¸€è‡´

//é€šè¿‡å¼•ç”¨åˆ›å»ºæ•°ç»„çš„å‰¯æœ¬ï¼Œç†è§£ä¸ºæŒ‡å‘åŒä¸€å—åœ°å€ï¼Œä¸€ä¸ªå˜ï¼Œå¦ä¸€ä¸ªè·Ÿç€å˜
arr := &arr1  //ä½†æ˜¯ä»–ä»¬ç±»å‹ä¸ä¸€è‡´, arræ˜¯arr1ç±»å‹çš„æŒ‡é’ˆå˜é‡  ä¾‹å¦‚ *[3]int   [3]int



package main
import (
	"fmt"
)
func main() {
	a := [3]int{1, 2, 3}
	b := &a
	b[0] = 10000000
	a[1] = 3333
	fmt.Printf("%T %T\n", b, a)  //ç±»å‹ä¸ä¸€è‡´ï¼Œä¸èƒ½åˆ¤æ–­==æ˜¯å¦ç›¸ç­‰
	fmt.Println(b, a)
    fmt.Println(*b)    //è§£å¼•ç”¨
    fmt.Println(a == *b)
}
/*

*[3]int [3]int
&[10000000 3333 3] [10000000 3333 3]
[10000000 3333 3]
true
*/
```

#### 6.3å‡½æ•°å‚æ•°

**è¯­æ³•ï¼š**

```go
//å¯¹äºæŒ‡å®šå¤§å°çš„æ•°ç»„
func function_name(variable_name [size]type){
// Code
}

//å¯¹äºæ— å¤§å°çš„æ•°ç»„ï¼ˆåˆ‡ç‰‡ï¼‰
func function_name(variable_name []type){
// Code
}
```

**ä¾‹å¦‚ï¼š**

```go
package main

import (
	"fmt"
)

func myfunc(a *[3]int) {
	a[0] = 11111
}
func main() {
	a := [3]int{1, 2, 3}
	myfunc(&a)
	fmt.Println(a)
}
/*
[11111 2 3]
*/


package main

import (
	"fmt"
)

func myfunc(a [3]int) {
	a[0] = 11111
}
func main() {
	a := [3]int{1, 2, 3}
	myfunc(a)
	fmt.Println(a)
}
/*
[1 2 3]
*/
```

#### 6.4åˆ‡ç‰‡(Slice)

åœ¨Goè¯­è¨€ä¸­ï¼Œåˆ‡ç‰‡æ¯”æ•°ç»„æ›´å¼ºå¤§ï¼Œçµæ´»ï¼Œæ–¹ä¾¿ï¼Œå¹¶ä¸”æ˜¯è½»é‡çº§çš„æ•°æ®ç»“æ„ã€‚sliceæ˜¯ä¸€ä¸ªå¯å˜é•¿åº¦åºåˆ—ï¼Œç”¨äºå­˜å‚¨ç›¸åŒç±»å‹çš„å…ƒç´ ï¼Œä¸å…è®¸åœ¨åŒä¸€sliceä¸­å­˜å‚¨ä¸åŒç±»å‹çš„å…ƒç´ ã€‚å°±åƒå…·æœ‰ç´¢å¼•å€¼å’Œé•¿åº¦çš„æ•°ç»„ä¸€æ ·ï¼Œä½†æ˜¯åˆ‡ç‰‡çš„å¤§å°å¯ä»¥è°ƒæ•´ï¼Œåˆ‡ç‰‡ä¸åƒæ•°ç»„é‚£æ ·å¤„äºå›ºå®šå¤§å°ã€‚åœ¨å†…éƒ¨ï¼Œåˆ‡ç‰‡å’Œæ•°ç»„ç›¸äº’è¿æ¥ï¼Œåˆ‡ç‰‡æ˜¯å¯¹åŸºç¡€æ•°ç»„çš„å¼•ç”¨ã€‚å…è®¸åœ¨åˆ‡ç‰‡ä¸­å­˜å‚¨é‡å¤å…ƒç´ ã€‚**åˆ‡ç‰‡ä¸­çš„ç¬¬ä¸€ä¸ªç´¢å¼•ä½ç½®å§‹ç»ˆä¸º0ï¼Œè€Œæœ€åä¸€ä¸ªç´¢å¼•ä½ç½®å°†ä¸ºï¼ˆåˆ‡ç‰‡çš„é•¿åº¦â€“ 1ï¼‰**ã€‚

- **åˆ‡ç‰‡å£°æ˜ï¼ˆåˆ›å»ºåˆ‡ç‰‡ï¼‰ï¼šè·Ÿæ•°ç»„ä¸€æ ·ï¼Œä½†æ˜¯æœ‰ä¸€ä¸ªåŒºåˆ«ï¼Œå³ä¸å…è®¸æ‚¨åœ¨æ–¹æ‹¬å·[]ä¸­æŒ‡å®šåˆ‡ç‰‡çš„å¤§å°ã€‚å› æ­¤å®ƒçš„é•¿åº¦å¯ä»¥æ ¹æ®éœ€è¦å¢é•¿æˆ–ç¼©å°ã€‚**

```go
//åˆ©ç”¨var
var a []int
//ç®€å†™, æ³¨æ„ï¼šåˆ‡è®°ï¼Œå½“æ‚¨ä½¿ç”¨intæ•°å­—åˆ›å»ºåˆ‡ç‰‡æ—¶ï¼Œå®ƒé¦–å…ˆåˆ›å»ºä¸€ä¸ªæ•°ç»„ï¼Œç„¶åè¿”å›å¯¹å…¶çš„åˆ‡ç‰‡å¼•ç”¨ã€‚
a := []int{1,2,3}
var a = []int{1,2,3}
```

- **åˆ‡ç‰‡çš„ç»„æˆï¼š**
- - **æŒ‡é’ˆï¼š**æŒ‡é’ˆç”¨äºæŒ‡å‘å¯é€šè¿‡åˆ‡ç‰‡è®¿é—®çš„æ•°ç»„çš„ç¬¬ä¸€ä¸ªå…ƒç´ ã€‚åœ¨è¿™é‡Œï¼ŒæŒ‡å‘çš„å…ƒç´ ä¸å¿…æ˜¯æ•°ç»„çš„ç¬¬ä¸€ä¸ªå…ƒç´ ã€‚
- - **é•¿åº¦ï¼š**é•¿åº¦æ˜¯æ•°ç»„ä¸­å­˜åœ¨çš„å…ƒç´ æ€»æ•°ã€‚
- - **å®¹é‡ï¼š**å®¹é‡è¡¨ç¤ºå¯ä»¥æ‰©å±•çš„æœ€å¤§å¤§å°ã€‚

```go
// åˆ‡ç‰‡
package main

import "fmt"

func main() {

	//åˆ›å»ºä¸€ä¸ªæ•°ç»„
	arr := [7]string{"è¿™", "æ˜¯", "Golang", "åŸºç¡€", "æ•™ç¨‹", "åœ¨çº¿", "111"}

	//æ˜¾ç¤ºæ•°ç»„
	fmt.Println("æ•°ç»„:", arr)

	//åˆ›å»ºåˆ‡ç‰‡
	myslice := arr[1:6]

	//æ˜¾ç¤ºåˆ‡ç‰‡
	fmt.Println("åˆ‡ç‰‡:", myslice)

	//æ˜¾ç¤ºåˆ‡ç‰‡çš„é•¿åº¦
	fmt.Printf("åˆ‡ç‰‡é•¿åº¦: %d", len(myslice))

	//æ˜¾ç¤ºåˆ‡ç‰‡çš„å®¹é‡
	fmt.Printf("\nåˆ‡ç‰‡å®¹é‡: %d\n", cap(myslice))

	fmt.Printf("%T", myslice)
}
/*
æ•°ç»„: [è¿™ æ˜¯ Golang åŸºç¡€ æ•™ç¨‹ åœ¨çº¿ 111]
åˆ‡ç‰‡: [æ˜¯ Golang åŸºç¡€ æ•™ç¨‹ åœ¨çº¿]
åˆ‡ç‰‡é•¿åº¦: 5
åˆ‡ç‰‡å®¹é‡: 6
[]string
*/

/*
ç”¨æ³•è§£é‡Šï¼šåœ¨ä¸Šé¢çš„å®ä¾‹ä¸­ï¼Œæˆ‘ä»¬ä»ç»™å®šçš„æ•°ç»„ä¸­åˆ›å»ºä¸€ä¸ªåˆ‡ç‰‡ã€‚è¿™é‡Œï¼Œç‰‡çš„æŒ‡é’ˆæŒ‡å‘ç´¢å¼•1ï¼Œå› ä¸ºç‰‡çš„ä¸‹ç•Œè¢«è®¾ç½®ä¸º1ï¼Œæ‰€ä»¥å®ƒå¼€å§‹è®¿é—®æ¥è‡ªç´¢å¼•1çš„å…ƒç´ ã€‚åˆ‡ç‰‡çš„é•¿åº¦ä¸º5ï¼Œè¡¨ç¤ºåˆ‡ç‰‡ä¸­å…ƒç´ çš„æ€»æ•°ä¸º5ï¼Œè€Œåˆ‡ç‰‡6çš„å®¹é‡è¡¨ç¤ºæœ€å¤šå¯ä»¥å­˜å‚¨6ä¸ªå…ƒç´ ã€‚
*/
```

- **åˆ‡ç‰‡æ˜¯æ•°ç»„çš„å¼•ç”¨ï¼Œä¹Ÿå¯ä»¥ä»ç»™å®šçš„åˆ‡ç‰‡ä¸­åˆ›å»ºåˆ‡ç‰‡**

```go
arr_name[low:high]  //åˆ‡å–æ•°ç»„ä¸‹æ ‡ä»[low, high)ä¹‹é—´çš„å…ƒç´ ä½œä¸ºä¸€ä¸ªåˆ‡ç‰‡è¿”å›
slice_name[low:high]

//ä¸¾ä¾‹ï¼š
//åˆ›å»ºåˆ‡ç‰‡
a := []int{90, 60, 40, 50, 34, 49, 30}
a[0:]
a[:]
a[1:2]
```

- **ä½¿ç”¨make()å‡½æ•°ï¼š**æ‚¨è¿˜å¯ä»¥ä½¿ç”¨goåº“æä¾›çš„*make()å‡½æ•°*åˆ›å»ºåˆ‡ç‰‡ã€‚æ­¤å‡½æ•°é‡‡ç”¨ä¸‰ä¸ªå‚æ•°ï¼Œå³ç±»å‹ï¼Œé•¿åº¦å’Œå®¹é‡ã€‚åœ¨æ­¤ï¼Œ**å®¹é‡å€¼æ˜¯å¯é€‰çš„**ã€‚å®ƒä¸ºåº•å±‚æ•°ç»„åˆ†é…çš„å¤§å°ç­‰äºç»™å®šçš„å®¹é‡ï¼Œå¹¶è¿”å›ä¸€ä¸ªåˆ‡ç‰‡ï¼Œè¯¥åˆ‡ç‰‡å¼•ç”¨åº•å±‚æ•°ç»„ã€‚é€šå¸¸ï¼Œmake()å‡½æ•°ç”¨äºåˆ›å»ºä¸€ä¸ªç©ºåˆ‡ç‰‡ã€‚åœ¨è¿™é‡Œï¼Œç©ºåˆ‡ç‰‡æ˜¯åŒ…å«ç©ºæ•°ç»„å¼•ç”¨çš„é‚£äº›åˆ‡ç‰‡ã€‚

```go
// è¯­æ³•ï¼š
func make([]type, len, cap) []type          // 3ä¸ªå‚æ•°ï¼Œç±»å‹ã€é•¿åº¦ã€å®¹é‡ï¼ˆåº•å±‚æ•°ç»„çš„é•¿åº¦ï¼‰
```





- **åˆ›å»ºå’Œåˆå§‹åŒ–åˆ‡ç‰‡ï¼š**

```go
// 1. ä½¿ç”¨åˆ‡ç‰‡å­—é¢é‡
var slice_1 = []int{1, 2, 3}

// 2. ä½¿ç”¨æ•°ç»„ï¼šåˆ‡ç‰‡æ˜¯æ•°ç»„çš„å¼•ç”¨ï¼Œå› æ­¤å¯ä»¥æ ¹æ®ç»™å®šçš„æ•°ç»„åˆ›å»ºåˆ‡ç‰‡
arr := [...]int{1, 2, 3}    //arræ•°ç»„
slice_1 := arr[0:]   //[1, 2, 3]
slice_2 := arr[:2]   //[1, 2]
slice_3 := arr[:]    //[1, 2, 3]   ä¸‹é™é»˜è®¤å€¼ä¸º0ï¼Œä¸Šé™é»˜è®¤å€¼ä¸ºåˆ‡ç‰‡ä¸­å…ƒç´ æ€»é‡ï¼Œå³[:]ä¸[0:3]ç­‰ä»·

// 3. ä½¿ç”¨å·²å­˜åœ¨çš„åˆ‡ç‰‡
slice_origin := []int{1, 2, 3, 4}
slice_1 := slice_origin[0: 2]   // [1, 2]
slice_2 := slice_1[:1]   //[1]

// 4. ä½¿ç”¨make()å‡½æ•°
sli := make([]int, 3, 7)
fmt.Printf("slice:%v\nlength=%d\ncapacity=%d\n", sli, len(sli), cap(sli))
/*
slice:[0 0 0]
length=3
capacity=7
*/

sli_2 := make([]int, 7)   //è¿™ä¸ªåº”è¯¥æ˜¯å¸¸ç”¨çš„äº†
fmt.Printf("slice:%v\nlength=%d\ncapacity=%d\n", sli_2, len(sli_2), cap(sli_2))

/*
slice:[0 0 0 0 0 0 0]
length=7
capacity=7
*/

arr := [...]int{1, 2, 3, 4}
sli_3 := arr[2:3]
fmt.Printf("slice:%v\nlength=%d\ncapacity=%d\n", sli_3, len(sli_3), cap(sli_3))

/*
slice:[3]
length=1
capacity=2      //æˆ‘ç†è§£çš„capacityæ˜¯å½“å‰åˆ‡ç‰‡çš„å¼€å¤´ä½ç½®åˆ°å¯¹åº”(å¼•ç”¨)çš„åº•å±‚æ•°ç»„æœ€åä¸€ä¸ªä½ç½®ä¹‹é—´çš„å®¹é‡
*/
```

- **åˆ‡ç‰‡çš„è¦ç‚¹ï¼š**

```go
// 1.é›¶å€¼åˆ‡ç‰‡ï¼š
var slice []string
fmt.Printf("Length = %d\n", len(myslice)) 
fmt.Printf("Capacity = %d ", cap(myslice))

/*
Length = 0
Capacity = 0
*/

// 2.ä¿®æ­£Sliceï¼šä¿®æ”¹Sliceï¼šæ­£å¦‚æˆ‘ä»¬å·²ç»çŸ¥é“sliceæ˜¯å¼•ç”¨ç±»å‹ä¸€æ ·ï¼Œå®ƒå¯ä»¥å¼•ç”¨åŸºç¡€æ•°ç»„ã€‚å› æ­¤ï¼Œå¦‚æœæˆ‘ä»¬æ›´æ”¹åˆ‡ç‰‡ä¸­çš„æŸäº›å…ƒç´ ï¼Œåˆ™æ›´æ”¹ä¹Ÿåº”å‘ç”Ÿåœ¨å¼•ç”¨æ•°ç»„ä¸­ã€‚æ¢å¥è¯è¯´ï¼Œå¦‚æœæ‚¨å¯¹åˆ‡ç‰‡è¿›è¡Œäº†ä»»ä½•æ›´æ”¹ï¼Œåˆ™åˆ‡ç‰‡ä¹Ÿä¼šåæ˜ åœ¨æ•°ç»„ä¸­
arr := [...]int{1, 2, 3, 4, 5}
myslice := arr[1:4]

fmt.Printf("%v\n%v\n", arr, myslice)
for i := 0; i < len(myslice); i++ {
	myslice[i] += 10
}
fmt.Printf("%v\n%v\n", arr, myslice)

/*
[1 2 3 4 5]
[2 3 4]
[1 12 13 14 5]
[12 13 14]
*/

// 3.åˆ‡ç‰‡çš„æ¯”è¾ƒï¼šåœ¨åˆ‡ç‰‡ä¸­ï¼Œæ‚¨åªèƒ½ä½¿ç”¨==è¿ç®—ç¬¦æ£€æŸ¥ç»™å®šåˆ‡ç‰‡æ˜¯å¦å­˜åœ¨ã€‚å¦‚æœå°è¯•åœ¨==è¿ç®—ç¬¦çš„å¸®åŠ©ä¸‹æ¯”è¾ƒä¸¤ä¸ªåˆ‡ç‰‡ï¼Œåˆ™ä¼šæŠ›å‡ºé”™è¯¯
s1 := []int{12, 34, 56} 
var s2 []int
s3:= []int{23, 45, 66} 
// fmt.Println(s1==s3) //ä¸èƒ½æ¯”è¾ƒä¸¤ä¸ªåˆ‡ç‰‡ï¼Œä¼šæŠ¥é”™

//æ£€æŸ¥ç»™å®šçš„ç‰‡æ˜¯å¦ä¸ºnil
fmt.Println(s1 == nil)   //false
fmt.Println(s2 == nil)   //true

// 4.å¤šç»´åˆ‡ç‰‡ï¼šå¤šç»´åˆ‡ç‰‡ä¸å¤šç»´æ•°ç»„ä¸€æ ·ï¼Œåªæ˜¯åˆ‡ç‰‡ä¸åŒ…å«å¤§å°
s1 := [][]int{
	{1, 2},
	{3, 4},
	{5, 6},
}

fmt.Printf("%v", s1)  // [[1 2] [3 4] [5 6]]

// 5.åˆ‡ç‰‡æ’åºï¼šåœ¨Goè¯­è¨€ä¸­ï¼Œå¯ä»¥å¯¹åˆ‡ç‰‡ä¸­å­˜åœ¨çš„å…ƒç´ è¿›è¡Œæ’åºã€‚  Goè¯­è¨€çš„æ ‡å‡†åº“æä¾›äº†sortåŒ…ï¼Œå…¶ä¸­åŒ…å«ç”¨äºå¯¹intï¼Œfloat64å’Œå­—ç¬¦ä¸²åˆ‡ç‰‡è¿›è¡Œæ’åºçš„ä¸åŒç±»å‹çš„æ’åºæ–¹æ³•ã€‚ è¿™äº›å‡½æ•°å§‹ç»ˆæŒ‰å‡åºå¯¹å¯ç”¨å…ƒç´ è¿›è¡Œåˆ‡ç‰‡æ’åºã€‚
package main

import (
	"fmt"
	"sort"   //å¯¼å…¥åŒ…
)

func main() {

	s1 := []string{"bc", "b", "abc", "Bc"}

	a := []int{3, 2, 7, 9}

	b := []float64{2, 7, 99.4, 7.001}

	sort.Strings(s1)
	sort.Ints(a)
	sort.Float64s(b)

	fmt.Println(s1, a, b)
}
/*
[Bc abc b bc] [2 3 7 9] [2 7 7.001 99.4]
*/
```

#### 6.5åˆ‡ç‰‡å¤åˆ¶

åœ¨åˆ‡ç‰‡ä¸­ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨Goè¯­è¨€æä¾›çš„**copy()å‡½æ•°**å°†ä¸€ä¸ªåˆ‡ç‰‡å¤åˆ¶åˆ°å¦ä¸€ä¸ªåˆ‡ç‰‡ä¸­ã€‚æ¢å¥è¯è¯´ï¼Œé€šè¿‡copy()å‡½æ•°å¯ä»¥å°†ä¸€ä¸ªåˆ‡ç‰‡çš„å…ƒç´ å¤åˆ¶åˆ°å¦ä¸€åˆ‡ç‰‡ä¸­ã€‚

**è¯­æ³•ï¼š**src -> dst

```go
func copy(dst, src []type) int     //è¿”å›è¦å¤åˆ¶çš„å…ƒç´ æ•°é‡ï¼Œä¸ºmin(len(dst), len(src))
```

**ä¸¾ä¾‹ï¼š**

```go
package main

import "fmt"

func main() {

	//åˆ›å»ºåˆ‡ç‰‡
	slc1 := []int{58, 69, 40, 45, 11, 56, 67, 21, 65}
	var slc2 []int  //nilåˆ‡ç‰‡
	slc3 := make([]int, 5)
	slc4 := []int{78, 50, 67, 77}

	//å¤åˆ¶ä¹‹å‰
	fmt.Println("Slice_1:", slc1)
	fmt.Println("Slice_2:", slc2)
	fmt.Println("Slice_3:", slc3)
	fmt.Println("Slice_4:", slc4)

	//å¤åˆ¶åˆ‡ç‰‡
	copy_1 := copy(slc2, slc1)
	fmt.Println("\nSlice:", slc2)
	fmt.Println("å¤åˆ¶çš„å…ƒç´ æ€»æ•°:", copy_1)

	copy_2 := copy(slc3, slc1)
	fmt.Println("\nSlice:", slc3)
	fmt.Println("å¤åˆ¶çš„å…ƒç´ æ€»æ•°:", copy_2)

	copy_3 := copy(slc4, slc1)
	fmt.Println("\nSlice:", slc4)
	fmt.Println("å¤åˆ¶çš„å…ƒç´ æ€»æ•°:", copy_3)

	//è¿™é‡Œä¸è¦æ··æ·†ï¼Œå› ä¸ºåœ¨ä¸Šé¢
	//å¤åˆ¶äº†slc4çš„ä»£ç è¡Œ
	//å¹¶å› æ­¤è¿›è¡Œæ°¸ä¹…ä¿®æ”¹ï¼Œå³
	// slc 4åŒ…å«[58 69 40 45]
	copy_4 := copy(slc1, slc4)
	fmt.Println("\nSlice:", slc1)
	fmt.Println("å¤åˆ¶çš„å…ƒç´ æ€»æ•°:", copy_4)
}

/*
Slice_1: [58 69 40 45 11 56 67 21 65]
Slice_2: []
Slice_3: [0 0 0 0 0]
Slice_4: [78 50 67 77]

Slice: []
å¤åˆ¶çš„å…ƒç´ æ€»æ•°: 0

Slice: [58 69 40 45 11]
å¤åˆ¶çš„å…ƒç´ æ€»æ•°: 5

Slice: [58 69 40 45]
å¤åˆ¶çš„å…ƒç´ æ€»æ•°: 4

Slice: [58 69 40 45 11 56 67 21 65]
å¤åˆ¶çš„å…ƒç´ æ€»æ•°: 4
*/
```

#### 6.6åˆ‡ç‰‡ä½œä¸ºå‡½æ•°å‚æ•°

åˆ‡ç‰‡å°†æŒ‰å€¼ä¸åˆ‡ç‰‡çš„å®¹é‡ï¼Œé•¿åº¦ä¸€èµ·ä¼ é€’ç»™å‡½æ•°ï¼Œå¹¶ä¸”åˆ‡ç‰‡çš„æŒ‡é’ˆå§‹ç»ˆæŒ‡å‘åŸºç¡€æ•°ç»„ã€‚ å› æ­¤ï¼Œå¦‚æœæˆ‘ä»¬å¯¹é€šè¿‡å€¼ä¼ é€’ç»™å‡½æ•°çš„åˆ‡ç‰‡è¿›è¡Œäº†ä¸€äº›æ›´æ”¹ï¼Œåˆ™ä¼šåæ˜ åœ¨å‡½æ•°å¤–éƒ¨å­˜åœ¨çš„åˆ‡ç‰‡ä¸­ã€‚

```go
package main

import "fmt"

func change(b []int) int {  //åˆ‡ç‰‡æŒ‡é’ˆæ€»æ˜¯æŒ‡å‘ç›¸åŒçš„å¼•ç”¨ï¼ˆç›¸åŒçš„åº•å±‚æ•°ç»„ï¼‰
	b[2] = 100000
	return len(b)
}

func main() {

	a := []int{1, 2, 3, 4, 5}
	length := change(a)
	fmt.Printf("%d %v\n", length, a)

}
/*
5 [1 2 100000 4 5]
*/
```

```go
package main

import "fmt"

func change(b []int) {
	b = append(b, 1000)  //è¯¥æ·»åŠ æ“ä½œæœªå½±å“åŸæ•°åˆ‡ç‰‡
	fmt.Println(b)
}

func main() {

	a := []int{1, 2, 3, 4, 5}
	change(a)
	fmt.Printf("%v\n", a)

}
/*
[1 2 3 4 5 1000]
[1 2 3 4 5]
*/
```

#### 6.7åˆ‡ç‰‡æ¯”è¾ƒ

åœ¨Goè¯­è¨€ä¸­ï¼Œåˆ‡ç‰‡æ¯”æ•°ç»„æ›´å¼ºå¤§ï¼Œçµæ´»ï¼Œæ–¹ä¾¿ï¼Œå¹¶ä¸”æ˜¯è½»é‡çº§çš„æ•°æ®ç»“æ„ã€‚åœ¨Goåˆ‡ç‰‡ä¸­ï¼Œå¯ä»¥ä½¿ç”¨**Compare()**å‡½æ•°å°†ä¸¤ä¸ª**å­—èŠ‚ç±»å‹**ï¼ˆå¯ä»¥ç†è§£ä¸ºå­—ç¬¦ï¼‰çš„åˆ‡ç‰‡å½¼æ­¤è¿›è¡Œ**æ¯”è¾ƒ**ã€‚æ­¤å‡½æ•°è¿”å›ä¸€ä¸ªæ•´æ•°å€¼ï¼Œè¯¥æ•´æ•°å€¼è¡¨ç¤ºè¿™äº›åˆ‡ç‰‡ç›¸ç­‰æˆ–ä¸ç›¸ç­‰ï¼Œå¹¶ä¸”è¿™äº›å€¼æ˜¯ï¼š

- å¦‚æœç»“æœä¸º0ï¼Œåˆ™slice_1 == slice_2ã€‚
- å¦‚æœç»“æœä¸º-1ï¼Œåˆ™slice_1 <slice_2ã€‚
- å¦‚æœç»“æœä¸º+1ï¼Œåˆ™slice_1> slice_2ã€‚

è¯¥å‡½æ•°åœ¨bytesåŒ…ä¸‹å®šä¹‰ï¼Œå› æ­¤ï¼Œæ‚¨å¿…é¡»åœ¨ç¨‹åºä¸­å¯¼å…¥bytesåŒ…æ‰èƒ½è®¿é—®Compareå‡½æ•°ã€‚

**è¯­æ³•ï¼š**

```go
func Compare(slice_1, slice_2 []byte) int
```

```go
// æ¯”è¾ƒä¸¤ä¸ªå­—èŠ‚åˆ‡ç‰‡
package main

import (
	"bytes"
	"fmt"
)

func main() {

	//ä½¿ç”¨ç®€å†™å£°æ˜åˆ›å»ºå’Œåˆå§‹åŒ–å­—èŠ‚åˆ‡ç‰‡

	slice_1 := []byte{'G', 'E', 'E', 'K', 'S'}
	slice_2 := []byte{'G', 'E', 'e', 'K', 'S'}

	//æ¯”è¾ƒåˆ‡ç‰‡

	//ä½¿ç”¨Compareå‡½æ•°
	res := bytes.Compare(slice_1, slice_2)

	if res == 0 {
		fmt.Println("!..åˆ‡ç‰‡ç›¸ç­‰..!")
	} else {
		fmt.Println(res)
		fmt.Println("!..åˆ‡ç‰‡ä¸ç›¸ç­‰..!")
	}
}

/*
-1
!..åˆ‡ç‰‡ä¸ç›¸ç­‰..!
*/
```

#### 6.8åˆ‡ç‰‡æ’åº

Goè¯­è¨€ä½¿æ‚¨å¯ä»¥æ ¹æ®åˆ‡ç‰‡çš„ç±»å‹å¯¹åˆ‡ç‰‡çš„å…ƒç´ è¿›è¡Œæ’åºã€‚å› æ­¤ï¼Œä½¿ç”¨ä»¥ä¸‹å‡½æ•°å¯¹intç±»å‹åˆ‡ç‰‡è¿›è¡Œæ’åºã€‚è¿™äº›å‡½æ•°åœ¨sortåŒ…ä¸‹å®šä¹‰ï¼Œå› æ­¤ï¼Œæ‚¨å¿…é¡»åœ¨ç¨‹åºä¸­å¯¼å…¥sortåŒ…æ‰èƒ½è®¿é—®è¿™äº›å‡½æ•°ï¼š

- **1.**æ•´æ•°**ï¼š**æ­¤å‡½æ•°ä»…ç”¨äºå¯¹æ•´æ•°åˆ‡ç‰‡è¿›è¡Œæ’åºï¼Œå¹¶æŒ‰å‡åºå¯¹åˆ‡ç‰‡ä¸­çš„å…ƒç´ è¿›è¡Œæ’åºã€‚

**è¯­æ³•ï¼š**

```go
func Ints(slc []int)     //slcä¸ºæ•´æ•°åˆ‡ç‰‡
```

```go
//å¯¹æ•´æ•°è¿›è¡Œæ’åº
package main 
   
import ( 
    "fmt"
    "sort"
) 
   
// Main function 
func main() { 
       
    //ä½¿ç”¨ç®€å†™å£°æ˜ï¼Œåˆ›å»ºå’Œåˆå§‹åŒ–åˆ‡ç‰‡
    scl1 := []int{400, 600, 100, 300, 500, 200, 900} 
    scl2 := []int{-23, 567, -34, 67, 0, 12, -5} 
       
    //æ˜¾ç¤ºåˆ‡ç‰‡
    fmt.Println("Slices(Before):") 
    fmt.Println("Slice 1: ", scl1) 
    fmt.Println("Slice 2: ", scl2) 
       
    //å¯¹æ•´æ•°åˆ‡ç‰‡è¿›è¡Œæ’åº

//ä½¿ç”¨Intså‡½æ•°
    sort.Ints (scl1) 
    sort.Ints (scl2) 
       
    //æ˜¾ç¤ºç»“æœ
    fmt.Println("\nSlices(After):") 
    fmt.Println("Slice 1 : ", scl1) 
    fmt.Println("Slice 2 : ",scl2) 
}
/*
Slices(Before):
Slice 1:  [400 600 100 300 500 200 900]
Slice 2:  [-23 567 -34 67 0 12 -5]

Slices(After):
Slice 1 :  [100 200 300 400 500 600 900]
Slice 2 :  [-34 -23 -5 0 12 67 567]
*/
```

- **2. IntsAreSortedï¼š**æ­¤å‡½æ•°ç”¨äºæ£€æŸ¥ç»™å®šçš„intåˆ‡ç‰‡æ˜¯å¦ä¸ºæ’åºå½¢å¼ï¼ˆæŒ‰å‡åºæ’åˆ—ï¼‰ã€‚å¦‚æœåˆ‡ç‰‡ä¸ºæ’åºå½¢å¼ï¼Œåˆ™æ­¤æ–¹æ³•è¿”å›trueï¼›å¦åˆ™ï¼Œå¦‚æœåˆ‡ç‰‡æœªä¸ºæ’åºå½¢å¼ï¼Œåˆ™è¿”å›falseã€‚

**è¯­æ³•ï¼š**

```go
func IntsAreSorted(slc []int) bool
```

```go
//Goç¨‹åºè¯´æ˜å¦‚ä½•æ£€æŸ¥
//ç»™å®šçš„intåˆ‡ç‰‡æ˜¯å¦å·²æ’åº
package main

import (
    "fmt"
    "sort"
)

func main() {

    //åˆ›å»ºå’Œåˆå§‹åŒ–åˆ‡ç‰‡

    //ä½¿ç”¨ç®€å†™å£°æ˜
    scl1 := []int{100, 200, 300, 400, 500, 600, 700}
    scl2 := []int{-23, 567, -34, 67, 0, 12, -5}

    //æ˜¾ç¤ºåˆ‡ç‰‡
    fmt.Println("Slices:")
    fmt.Println("åˆ‡ç‰‡1: ", scl1)
    fmt.Println("åˆ‡ç‰‡2: ", scl2)

    //æ£€æŸ¥åˆ‡ç‰‡æ˜¯å¦ä¸ºæ’åºå½¢å¼

    //ä½¿ç”¨IntsAreSortedå‡½æ•°
    res1 := sort.IntsAreSorted(scl1)
    res2 := sort.IntsAreSorted(scl2)

    //æ˜¾ç¤ºç»“æœ
    fmt.Println("\nResult:")
    fmt.Println("åˆ‡ç‰‡1æ˜¯å¦å·²æ’åº?: ", res1)
    fmt.Println("åˆ‡ç‰‡2æ˜¯å¦å·²æ’åº?: ", res2)
}

/*
Slices:
åˆ‡ç‰‡1:  [100 200 300 400 500 600 700]
åˆ‡ç‰‡2:  [-23 567 -34 67 0 12 -5]

Result:
åˆ‡ç‰‡1æ˜¯å¦å·²æ’åº?:  true
åˆ‡ç‰‡2æ˜¯å¦å·²æ’åº?:  false
*/
```

#### 6.9åˆ‡ç‰‡åˆ†å‰²







### 7.å­—ç¬¦ä¸²(String)ï¼ˆé‡ç‚¹ï¼‰

> åœ¨Goè¯­è¨€ä¸­ï¼Œå­—ç¬¦ä¸²ä¸åŒäºå…¶ä»–è¯­è¨€ï¼Œå¦‚Javaã€c++ã€Pythonç­‰ã€‚å®ƒæ˜¯ä¸€ä¸ªå˜å®½å­—ç¬¦åºåˆ—ï¼Œå…¶ä¸­æ¯ä¸ªå­—ç¬¦éƒ½ç”¨UTF-8ç¼–ç çš„ä¸€ä¸ªæˆ–å¤šä¸ªå­—èŠ‚è¡¨ç¤ºã€‚æˆ–è€…æ¢å¥è¯è¯´ï¼Œå­—ç¬¦ä¸²æ˜¯ä»»æ„å­—èŠ‚(åŒ…æ‹¬å€¼ä¸ºé›¶çš„å­—èŠ‚)çš„ä¸å¯å˜é“¾ï¼Œæˆ–è€…å­—ç¬¦ä¸²æ˜¯ä¸€ä¸ªåªè¯»å­—èŠ‚ç‰‡ï¼Œå­—ç¬¦ä¸²çš„å­—èŠ‚å¯ä»¥ä½¿ç”¨UTF-8ç¼–ç åœ¨Unicodeæ–‡æœ¬ä¸­è¡¨ç¤ºã€‚
>
> ç”±äºé‡‡ç”¨UTF-8ç¼–ç ï¼ŒGolangå­—ç¬¦ä¸²å¯ä»¥åŒ…å«æ–‡æœ¬ï¼Œæ–‡æœ¬æ˜¯ä¸–ç•Œä¸Šä»»ä½•è¯­è¨€çš„æ··åˆï¼Œè€Œä¸ä¼šé€ æˆé¡µé¢çš„æ··ä¹±å’Œé™åˆ¶ã€‚é€šå¸¸ï¼Œå­—ç¬¦ä¸²ç”¨*åŒå¼•å·\*â€â€\*å¼•èµ·æ¥*ï¼Œå¦‚ä»¥ä¸‹ç¤ºä¾‹æ‰€ç¤ºï¼š

```go
str1 := "hello royal_111, welcome to Go!!!"

var str2 string
str2 = "thanks"
```

- **æ³¨æ„ï¼š**å­—ç¬¦ä¸²å¯ä»¥ä¸ºç©ºï¼Œä½†ä¸èƒ½ä¸ºnilã€‚

- **å­—ç¬¦ä¸²å­—é¢é‡ï¼š**

- - 1.ä½¿ç”¨åŒå¼•å·""    åœ¨è¿™é‡Œï¼Œå­—ç¬¦ä¸²å­—é¢é‡ä½¿ç”¨åŒå¼•å·ï¼ˆâ€œâ€ï¼‰åˆ›å»ºã€‚æ­¤ç±»å­—ç¬¦ä¸²**æ”¯æŒè½¬ä¹‰å­—ç¬¦**ï¼Œå¦‚ä¸‹è¡¨æ‰€ç¤ºï¼Œä½†**ä¸è·¨è¶Šå¤šè¡Œ**ã€‚è¿™ç§ç±»å‹çš„å­—ç¬¦ä¸²æ–‡å­—åœ¨Golangç¨‹åºä¸­è¢«å¹¿æ³›ä½¿ç”¨ã€‚
  - 2.ä½¿ç”¨åå¼•å·ï¼ˆ``ï¼‰    æ­¤å¤„ï¼Œå­—ç¬¦ä¸²æ–‡å­—æ˜¯ä½¿ç”¨åå¼•å·åˆ›å»ºçš„ï¼Œä¹Ÿç§°ä¸º**raw literals**(åŸå§‹æ–‡æœ¬)ã€‚åŸå§‹æ–‡æœ¬**ä¸æ”¯æŒ**è½¬ä¹‰å­—ç¬¦ï¼Œ**å¯ä»¥è·¨è¶Šå¤šè¡Œ**ï¼Œå¹¶ä¸”å¯ä»¥åŒ…å«é™¤åå¼•å·ä¹‹å¤–çš„ä»»ä½•å­—ç¬¦ã€‚é€šå¸¸ï¼Œå®ƒç”¨äºåœ¨æ­£åˆ™è¡¨è¾¾å¼å’ŒHTMLä¸­ç¼–å†™å¤šè¡Œæ¶ˆæ¯ã€‚  

```go
package main

import (
	"fmt"
)

func main() {

	a := "hello,royal_111"
	//æ·»åŠ è½¬ä¹‰å­—ç¬¦
	b := "hello,\nroyal_111"

	//ä½¿ç”¨åå¼•å·
	c := `hello,royal_111`

	//åŸå§‹æ–‡æœ¬ï¼Œä¸è½¬ä¹‰
	d := `hello,\nroyal`
	fmt.Printf("%s\n%s\n%s\n%s\n", a, b, c, d)
}

/*
hello,royal_111
hello,
royal_111
hello,royal_111
hello,\nroyal
*/
```

#### 7.1å­—ç¬¦ä¸²çš„è¦ç‚¹

- **å­—ç¬¦ä¸²æ˜¯ä¸å¯å˜çš„ï¼š**åœ¨Goè¯­è¨€ä¸­ï¼Œä¸€æ—¦åˆ›å»ºäº†å­—ç¬¦ä¸²ï¼Œåˆ™å­—ç¬¦ä¸²æ˜¯ä¸å¯å˜çš„ï¼Œæ— æ³•æ›´æ”¹å­—ç¬¦ä¸²çš„å€¼ã€‚æ¢å¥è¯è¯´ï¼Œå­—ç¬¦ä¸²æ˜¯åªè¯»çš„ã€‚å¦‚æœå°è¯•æ›´æ”¹ï¼Œåˆ™ç¼–è¯‘å™¨å°†å¼•å‘é”™è¯¯ã€‚

- **å¦‚ä½•éå†å­—ç¬¦ä¸²ï¼Ÿï¼š**æ‚¨å¯ä»¥ä½¿ç”¨for rangeå¾ªç¯éå†å­—ç¬¦ä¸²ã€‚æ­¤å¾ªç¯å¯ä»¥åœ¨Unicodeä»£ç ç‚¹ä¸Šè¿­ä»£ä¸€ä¸ªå­—ç¬¦ä¸²ã€‚

```go
for idx, ch := range str {
    //...
}


package main
import (
	"fmt"
)
func main() {

	str := "Imissyou"
	for idx, ch := range str {
		fmt.Printf("%cçš„ä¸‹æ ‡æ˜¯%d\n", ch, idx)
	}
}
/*
Içš„ä¸‹æ ‡æ˜¯0
mçš„ä¸‹æ ‡æ˜¯1
içš„ä¸‹æ ‡æ˜¯2
sçš„ä¸‹æ ‡æ˜¯3
sçš„ä¸‹æ ‡æ˜¯4
yçš„ä¸‹æ ‡æ˜¯5
oçš„ä¸‹æ ‡æ˜¯6
uçš„ä¸‹æ ‡æ˜¯7
*/
```

- **å¦‚ä½•ä»åˆ‡ç‰‡åˆ›å»ºå­—ç¬¦ä¸²ï¼Ÿ**

```go
//ä»åˆ‡ç‰‡åˆ›å»ºä¸€ä¸ªå­—ç¬¦ä¸² 
package main 
  
import "fmt"
  
func main() { 
  
    //åˆ›å»ºå’Œåˆå§‹åŒ–ä¸€ä¸ªå­—èŠ‚ç‰‡
    myslice1 := []byte{0x47, 0x65, 0x65, 0x6b, 0x73} 
  
    //ä»åˆ‡ç‰‡åˆ›å»ºå­—ç¬¦ä¸²
    mystring1 := string(myslice1) 
  
    //æ˜¾ç¤ºå­—ç¬¦ä¸²
    fmt.Println("String 1: ", mystring1) 
  
    //åˆ›å»ºå’Œåˆå§‹åŒ–ä¸€ä¸ªç¬¦æ–‡åˆ‡ç‰‡ 
    myslice2 := []rune{0x0047, 0x0065, 0x0065, 0x006b, 0x0073} 
  
    //ä»åˆ‡ç‰‡åˆ›å»ºå­—ç¬¦ä¸²
    mystring2 := string(myslice2) 
  
    //æ˜¾ç¤ºå­—ç¬¦ä¸²
    fmt.Println("String 2: ", mystring2) 
}
/*
String 1:  Geeks
String 2:  Geeks
*/
```

- **å¦‚ä½•æŸ¥æ‰¾å­—ç¬¦ä¸²çš„é•¿åº¦ï¼Ÿï¼š**åœ¨Golangå­—ç¬¦ä¸²ä¸­ï¼Œå¯ä»¥ä½¿ç”¨ä¸¤ä¸ªå‡½æ•°ï¼ˆä¸€ä¸ªæ˜¯**len()**ï¼Œå¦ä¸€ä¸ªæ˜¯**RuneCountInString()ï¼‰**æ¥æ‰¾åˆ°å­—ç¬¦ä¸²çš„é•¿åº¦ã€‚UTF-8åŒ…æä¾›äº†RuneCountInString()å‡½æ•°ï¼Œè¯¥å‡½æ•°è¿”å›å­—ç¬¦ä¸²ä¸­å­˜åœ¨çš„ç¬¦æ–‡æ€»æ•°ã€‚*len()*å‡½æ•°è¿”å›å­—ç¬¦ä¸²çš„å­—èŠ‚æ•°ã€‚

```go
//æŸ¥æ‰¾å­—ç¬¦ä¸²çš„é•¿åº¦
package main

import (
    "fmt"
    "unicode/utf8"
)

func main() {

    //åˆ›å»ºå’Œåˆå§‹åŒ–å­—ç¬¦ä¸²
    //ä½¿ç”¨ç®€å†™å£°æ˜
    mystr := "Welcome to nhooo ??????"

    //æŸ¥æ‰¾å­—ç¬¦ä¸²çš„é•¿åº¦
    //ä½¿ç”¨len()å‡½æ•°
    length1 := len(mystr)

    //ä½¿ç”¨RuneCountInString()å‡½æ•°
    length2 := utf8.RuneCountInString(mystr)

    //æ˜¾ç¤ºå­—ç¬¦ä¸²çš„é•¿åº¦
    fmt.Println("string:", mystr)
    fmt.Println("Length 1:", length1)
    fmt.Println("Length 2:", length2)

}
/*
string: Welcome to nhooo ??????
Length 1: 31
Length 2: 31
*/
```

#### 7.2 å­—ç¬¦ä¸²æ¯”è¾ƒ

- **1.ä½¿ç”¨æ¯”è¾ƒè¿ç®—ç¬¦ï¼š**å³*==ï¼Œï¼=ï¼Œ> =ï¼Œ<=ï¼Œ<ï¼Œ>*ã€‚è·Ÿ`c/c++`ç±»ä¼¼ã€‚

- **2.ä½¿ç”¨Compare()å‡½æ•°ï¼š**æ‚¨è¿˜å¯ä»¥ä½¿ç”¨`strings`åŒ…æä¾›çš„å†…ç½®å‡½æ•°`Compare()`æ¯”è¾ƒä¸¤ä¸ªå­—ç¬¦ä¸²ã€‚åœ¨æ¯”è¾ƒä¸¤ä¸ªå­—ç¬¦ä¸²åï¼Œæ­¤å‡½æ•°è¿”å›æ•´æ•°å€¼ã€‚è¿”å›å€¼ä¸ºï¼š
  - å¦‚æœ*str1 == str2*ï¼Œåˆ™è¿”å›0 ã€‚
  - å¦‚æœ*str1> str2*ï¼Œè¿”å›1 ã€‚
  - å¦‚æœ*str1 <str2ï¼Œ*è¿”å›-1 ã€‚

**è¯­æ³•ï¼š**

```go
func Compare(str1, str2 string) int
```

```go
// æŸ¥æ‰¾å­—ç¬¦ä¸²çš„é•¿åº¦
package main

import (
	"fmt"
	"strings"
)

func main() {

	a := "hello"
	b := "hello"
	c := "royal"
	d := `roYal`

	fmt.Println(strings.Compare(a, b))
	fmt.Println(strings.Compare(c, d))
	fmt.Println(strings.Compare(a, d))
}
/*
0
1
-1
*/
```

#### 7.3å­—ç¬¦ä¸²æ‹¼æ¥

- 1.ä½¿ç”¨`+`è¿æ¥å³å¯ã€‚

- **2.ä½¿ç”¨bytes.Bufferï¼š**æ‚¨è¿˜å¯ä»¥é€šè¿‡ä½¿ç”¨bytes.Bufferå’ŒWriteString()æ–¹æ³•æ¥è¿æ¥å­—ç¬¦ä¸²çš„å­—èŠ‚æ¥åˆ›å»ºå­—ç¬¦ä¸²ã€‚ å®ƒåœ¨å­—èŠ‚åŒ…ä¸‹å®šä¹‰ã€‚ å®ƒå¯ä»¥é˜²æ­¢ç”Ÿæˆä¸å¿…è¦çš„å­—ç¬¦ä¸²å¯¹è±¡ï¼Œè¿™æ„å‘³ç€å®ƒä¸ä¼šä»ä¸¤ä¸ªæˆ–å¤šä¸ªå­—ç¬¦ä¸²ä¸­ç”Ÿæˆæ–°çš„å­—ç¬¦ä¸²ï¼ˆå¦‚+è¿ç®—ç¬¦ï¼‰ã€‚

```go
// åœ¨WriteString()å‡½æ•°ä¸­ä½¿ç”¨bytes.Buffer
package main

import (
	"bytes"
	"fmt"
)

func main() {

	//åˆ›å»ºå’Œåˆå§‹åŒ–å­—ç¬¦ä¸²
	//ä½¿ç”¨bytes.Bufferä¸
	// WriteString()å‡½æ•°
	var b bytes.Buffer

	b.WriteString("G")
	b.WriteString("e")
	b.WriteString("e")
	b.WriteString("k")
	b.WriteString("s")

	fmt.Println("String: ", b.String())

	b.WriteString("f")
	b.WriteString("o")
	b.WriteString("r")
	b.WriteString("G")
	b.WriteString("e")
	b.WriteString("e")
	b.WriteString("k")
	b.WriteString("s")

	fmt.Println("String: ", b.String())

}
/*
String:  Geeks
String:  GeeksforGeeks
*/
```

- **3.ä½¿ç”¨Sprintfï¼š**åœ¨Goè¯­è¨€ä¸­ï¼Œæ‚¨è¿˜å¯ä»¥ä½¿ç”¨*Sprintf()*æ–¹æ³•è¿æ¥å­—ç¬¦ä¸²ã€‚

```go
package main

import (
	"fmt"
	// "strings"
)

func main() {
	c := "hello"
	d := "royal_111"
	s := fmt.Sprintf("%s %s", c, d)

	fmt.Printf("%s", s)
}
/*
hello royal_111
*/
```

- **4.ä½¿ç”¨Join()å‡½æ•°ï¼š**æ­¤å‡½æ•°å°†å­—ç¬¦ä¸²åˆ‡ç‰‡ä¸­å­˜åœ¨çš„æ‰€æœ‰å…ƒç´ è¿æ¥ä¸ºå•ä¸ªå­—ç¬¦ä¸²ã€‚æ­¤å‡½æ•°åœ¨`strings`åŒ…ä¸­å¯ç”¨ã€‚

è¯­æ³•ï¼š

```go
func Join(str []string, sep string) string
```

```go
package main

import (
	"fmt"
	"strings"
)

func main() {
	var slice = []string{"hello", "royal_111"}
	fmt.Printf("%s", strings.Join(slice, "-"))
}
/*
hello-royal_111
*/
```

#### 7.4å­—ç¬¦ä¸²ä¿®å‰ª(ä¸‹é¢çš„å‡½æ•°éƒ½åœ¨stringsåŒ…ä¸­)

- **1.Trimï¼š**æ­¤å‡½æ•°ç”¨äºä¿®å‰ªæ­¤å‡½æ•°ä¸­æŒ‡å®šçš„æ‰€æœ‰**å‰å¯¼å’Œåç¼€**Unicodeä»£ç ç‚¹çš„å­—ç¬¦ä¸²ã€‚

  **è¯­æ³•ï¼š**

```go
func Trim(str string, cutstr string) string         //cutstrè¡¨ç¤ºè¦åˆ æ‰çš„å…ƒç´ åŒ…å«å“ªäº›å­—ç¬¦
```

```go
package main

import (
	"fmt"
	"strings"
)

func main() {
	str := ">>>I @love& you, you know.????&@"
	fmt.Printf("%s", strings.Trim(str, ">@&?"))  //åªèƒ½åˆ æ‰å­—ç¬¦ä¸²çš„å‰ç¼€å’Œåç¼€åŒ…å«çš„è¿™äº›cutstr
}
/*
I @love& you, you know.
*/
```

- **2. TrimLeftï¼š**æ­¤å‡½æ•°ç”¨äºä¿®å‰ªå­—ç¬¦ä¸²çš„å·¦ä¾§ï¼ˆåœ¨å‡½æ•°ä¸­æŒ‡å®šï¼‰Unicodeä»£ç ç‚¹ã€‚

**è¯­æ³•ï¼š**

```go
func TrimLeft(str string, cutstr string) string
```

åœ¨è¿™é‡Œï¼Œ*str*è¡¨ç¤ºå½“å‰å­—ç¬¦ä¸²ï¼Œè€Œ*cutstr*è¡¨ç¤ºè¦åœ¨ç»™å®šå­—ç¬¦ä¸²ä¸­ä¿®å‰ªçš„**å·¦ä¾§**å…ƒç´ ã€‚

- **3. TrimRightï¼š**æ­¤å‡½æ•°ç”¨äºä¿®å‰ªå­—ç¬¦ä¸²çš„å³ä¾§ï¼ˆåœ¨å‡½æ•°ä¸­æŒ‡å®šï¼‰Unicodeä»£ç ç‚¹ã€‚

**è¯­æ³•ï¼š**

```go
func TrimRight(str string, cutstr string) string
```

åœ¨è¿™é‡Œï¼Œ*str*è¡¨ç¤ºå½“å‰å­—ç¬¦ä¸²ï¼Œè€Œ*cutstr*è¡¨ç¤ºè¦åœ¨ç»™å®šå­—ç¬¦ä¸²ä¸­ä¿®å‰ªçš„**å³ä¾§**å…ƒç´ ã€‚

- **4. TrimSpaceï¼š**æ­¤å‡½æ•°ç”¨äºä¿®å‰ªæŒ‡å®šå­—ç¬¦ä¸²ä¸­çš„æ‰€æœ‰**å‰å¯¼å’Œå°¾éš**ç©ºç™½ï¼ˆç©ºæ ¼ï¼‰ã€‚

**è¯­æ³•ï¼š**

```go
func TrimSpace(str string) string
```

```go
package main

import (
	"fmt"
	"strings"
)

func main() {
	str := "    I love you, baby.  "
	fmt.Printf("%s", strings.TrimSpace(str))
}
/*
I love you, baby.
*/
```

- **5. TrimSuffixï¼š**æ­¤æ–¹æ³•ç”¨äºä¿®å‰ªç»™å®šå­—ç¬¦ä¸²ä¸­çš„å°¾éšåç¼€å­—ç¬¦ä¸²ã€‚å¦‚æœç»™å®šçš„å­—ç¬¦ä¸²ä¸åŒ…å«æŒ‡å®šçš„åç¼€å­—ç¬¦ä¸²ï¼Œåˆ™æ­¤å‡½æ•°å°†è¿”å›åŸå§‹å­—ç¬¦ä¸²ï¼Œè€Œä¸è¿›è¡Œä»»ä½•æ›´æ”¹ã€‚

**è¯­æ³•ï¼š**

```go
func TrimSuffix(str, suffstr string) string
```

åœ¨è¿™é‡Œï¼Œ*str*è¡¨ç¤ºåŸå§‹å­—ç¬¦ä¸²ï¼Œ*suffstr*è¡¨ç¤º**åç¼€**å­—ç¬¦ä¸²ã€‚

- **6. TrimPrefixï¼š**æ­¤æ–¹æ³•ç”¨äºä»ç»™å®šå­—ç¬¦ä¸²ä¸­ä¿®å‰ª**å‰å¯¼å‰ç¼€**å­—ç¬¦ä¸²ã€‚å¦‚æœç»™å®šçš„å­—ç¬¦ä¸²ä¸åŒ…å«æŒ‡å®šçš„å‰ç¼€å­—ç¬¦ä¸²ï¼Œåˆ™æ­¤å‡½æ•°å°†è¿”å›åŸå§‹å­—ç¬¦ä¸²ï¼Œè€Œä¸è¿›è¡Œä»»ä½•æ›´æ”¹ã€‚

**è¯­æ³•ï¼š**

```go
func TrimPrefix(str, suffstr string) string
```

```go
package main

import (
	"fmt"
	"strings"
)

func main() {
	str := "I love you, baby."
	fmt.Printf("%s\n%s\n", strings.TrimPrefix(str, "I"), strings.TrimSuffix(str, "baby."))
}
/*
 love you, baby.
I love you,
*/
```

#### 7.5å­—ç¬¦ä¸²åˆ†å‰²

- **1.Splitï¼š**æ­¤å‡½æ•°å°†å­—ç¬¦ä¸²æ‹†åˆ†ä¸ºç”±ç»™å®šåˆ†éš”ç¬¦åˆ†éš”çš„æ‰€æœ‰å­å­—ç¬¦ä¸²ï¼Œå¹¶è¿”å›åŒ…å«è¿™äº›å­å­—ç¬¦ä¸²çš„åˆ‡ç‰‡ã€‚

**è¯­æ³•ï¼š**

```
func Split(str, sep string) []string
```

åœ¨è¿™é‡Œï¼Œstræ˜¯å­—ç¬¦ä¸²ï¼Œsepæ˜¯åˆ†éš”ç¬¦ã€‚ å¦‚æœsträ¸åŒ…å«ç»™å®šçš„sepä¸”sepä¸ºéç©ºï¼Œåˆ™å®ƒå°†è¿”å›é•¿åº¦ä¸º1çš„åˆ‡ç‰‡ï¼Œå…¶ä¸­ä»…åŒ…å«strã€‚ æˆ–è€…ï¼Œå¦‚æœsepä¸ºç©ºï¼Œåˆ™å®ƒå°†åœ¨æ¯ä¸ªUTF-8åºåˆ—ä¹‹åæ‹†åˆ†ã€‚ æˆ–è€…ï¼Œå¦‚æœstrå’Œsepå‡ä¸ºç©ºï¼Œåˆ™å®ƒå°†è¿”å›ä¸€ä¸ªç©ºåˆ‡ç‰‡ã€‚

```go
package main

import (
	"fmt"
	"strings"
)

func main() {

	//åˆ›å»ºå’Œåˆå§‹åŒ–å­—ç¬¦ä¸²
	str1 := "Welcome, to the, online portal, of nhooo"
	str2 := "My dog name is Dollar"
	str3 := "I like to play Ludo"

	//æ˜¾ç¤ºå­—ç¬¦ä¸²
	fmt.Println("String 1: ", str1)
	fmt.Println("String 2: ", str2)
	fmt.Println("String 3: ", str3)

	//æ‹†åˆ†ç»™å®šçš„å­—ç¬¦ä¸²
	//ä½¿ç”¨Split()å‡½æ•°
	res1 := strings.Split(str1, ",")
	res2 := strings.Split(str2, "")
	res3 := strings.Split(str3, "!")
	res4 := strings.Split("", "nhooo, geeks")

	// æ˜¾ç¤ºç»“æœ
	fmt.Println("\nResult 1: ", res1)
	fmt.Println("Result 2: ", res2)
	fmt.Println("Result 3: ", res3)
	fmt.Println("Result 4: ", res4)
}
/*
String 1:  Welcome, to the, online portal, of nhooo
String 2:  My dog name is Dollar
String 3:  I like to play Ludo

Result 1:  [Welcome  to the  online portal  of nhooo]
Result 2:  [M y   d o g   n a m e   i s   D o l l a r]
Result 3:  [I like to play Ludo]
Result 4:  []
*/
```

- **2. SplitAfterï¼š**æ­¤å‡½æ•°åœ¨ç»™å®šåˆ†éš”ç¬¦çš„æ¯ä¸ªå®ä¾‹ä¹‹åå°†å­—ç¬¦ä¸²æ‹†åˆ†ä¸ºæ‰€æœ‰å­å­—ç¬¦ä¸²ï¼Œå¹¶è¿”å›åŒ…å«è¿™äº›å­å­—ç¬¦ä¸²çš„åˆ‡ç‰‡ã€‚

  **è¯­æ³•ï¼š**

  ```go
  func SplitAfter(str, sep string) []string
  ```

  åœ¨è¿™é‡Œï¼Œstræ˜¯å­—ç¬¦ä¸²ï¼Œsepæ˜¯åˆ†éš”ç¬¦ã€‚ å¦‚æœsträ¸åŒ…å«ç»™å®šçš„sepä¸”sepä¸ºéç©ºï¼Œåˆ™å®ƒå°†è¿”å›é•¿åº¦ä¸º1çš„åˆ‡ç‰‡ï¼Œå…¶ä¸­ä»…åŒ…å«strã€‚ æˆ–è€…ï¼Œå¦‚æœsepä¸ºç©ºï¼Œåˆ™å®ƒå°†åœ¨æ¯ä¸ªUTF-8åºåˆ—ä¹‹åæ‹†åˆ†ã€‚ æˆ–è€…ï¼Œå¦‚æœstrå’Œsepå‡ä¸ºç©ºï¼Œåˆ™å®ƒå°†è¿”å›ä¸€ä¸ªç©ºåˆ‡ç‰‡ã€‚

```go
package main

import (
	"fmt"
	"strings"
)

func main() {

	//åˆ›å»ºå’Œåˆå§‹åŒ–å­—ç¬¦ä¸²
	str1 := "Welcome, to the, online portal, of nhooo"
	str2 := "My dog name is Dollar"
	str3 := "I like to play Ludo"

	//æ˜¾ç¤ºå­—ç¬¦ä¸²
	fmt.Println("String 1: ", str1)
	fmt.Println("String 2: ", str2)
	fmt.Println("String 3: ", str3)

	//æ‹†åˆ†ç»™å®šçš„å­—ç¬¦ä¸²
	//ä½¿ç”¨SplitAfter()å‡½æ•°
	res1 := strings.SplitAfter(str1, ",")  //æ¯ä¸ªåˆ†å‰²çš„å­å­—ç¬¦ä¸²å°¾å·´ä¸ŠåŠ ä¸Š","
	res2 := strings.SplitAfter(str2, "")
	res3 := strings.SplitAfter(str3, " ")
	res4 := strings.SplitAfter("", "nhooo, geeks")

	//æ˜¾ç¤ºç»“æœ
	fmt.Println("\nResult 1: ", res1)
	fmt.Println("Result 2: ", res2)
	fmt.Println("Result 3: ", res3)
	fmt.Println("Result 4: ", res4)

}
/*
String 1:  Welcome, to the, online portal, of nhooo
String 2:  My dog name is Dollar
String 3:  I like to play Ludo

Result 1:  [Welcome,  to the,  online portal,  of nhooo]
Result 2:  [M y   d o g   n a m e   i s   D o l l a r]
Result 3:  [I  like  to  play  Ludo]
Result 4:  []
*/
```

#### 7.6åˆ¤æ–­æ˜¯å¦åŒ…å«å­ä¸²ï¼ˆæ—¶é—´å¤æ‚åº¦ä¸çŸ¥é“æ˜¯å¤šå°‘ï¼Ÿå†…éƒ¨å®ç°ï¼Ÿï¼Ÿï¼Ÿï¼‰

åœ¨Goå­—ç¬¦ä¸²ä¸­ï¼Œå¯ä»¥ä½¿ç”¨ç»™å®šçš„å‡½æ•°æ£€æŸ¥å­—ç¬¦ä¸²ä¸­å­˜åœ¨çš„ç»™å®šå­—ç¬¦ã€‚è¿™äº›å‡½æ•°åœ¨å­—ç¬¦ä¸²åŒ…ä¸‹å®šä¹‰ï¼Œå› æ­¤æ‚¨å¿…é¡»åœ¨ç¨‹åºä¸­å¯¼å…¥å­—ç¬¦ä¸²åŒ…æ‰èƒ½è®¿é—®è¿™äº›å‡½æ•°ï¼š

- **1.Containsï¼š**æ­¤å‡½æ•°ç”¨äºæ£€æŸ¥ç»™å®šå­—ç¬¦ä¸²ä¸­æ˜¯å¦å­˜åœ¨ç»™å®šå­—ç¬¦ã€‚å¦‚æœå­—ç¬¦å­˜åœ¨äºç»™å®šçš„å­—ç¬¦ä¸²ä¸­ï¼Œåˆ™å®ƒå°†è¿”å›trueï¼Œå¦åˆ™è¿”å›falseã€‚

**è¯­æ³•ï¼š**

```go
func Contains(str, chstr string) bool
```

åœ¨è¿™é‡Œï¼Œ*str*æ˜¯åŸå§‹å­—ç¬¦ä¸²ï¼Œè€Œ*chstr*æ˜¯æ‚¨è¦æ£€æŸ¥çš„å­—ç¬¦ä¸²ã€‚è®©æˆ‘ä»¬å€ŸåŠ©ç¤ºä¾‹æ¥è®¨è®ºè¿™ä¸ªæ¦‚å¿µï¼š

ç¤ºä¾‹:

```go
//å­—ç¬¦ä¸²ä¸­æ˜¯å¦å­˜åœ¨
//æŒ‡å®šçš„å­—ç¬¦ä¸²
package main

import (
    "fmt"
    "strings"
)

func main() {

    //åˆ›å»ºå’Œåˆå§‹åŒ–å­—ç¬¦ä¸²
    str1 := "Welcome to Nhooo for Nhooo "
    str2 := "Here! we learn about go strings"

    fmt.Println("åŸæ¥çš„å­—ç¬¦ä¸²")
    fmt.Println("String 1: ", str1)
    fmt.Println("String 2: ", str2)

    //æ£€æŸ¥å­—ç¬¦ä¸²æ˜¯å¦å­˜åœ¨
    //ä½¿ç”¨Contains()å‡½æ•°
    res1 := strings.Contains(str1, "Nhooo")
    res2 := strings.Contains(str2, "GFG")

    //æ˜¾ç¤ºç»“æœ
    fmt.Println("\nResult 1: ", res1)
    fmt.Println("Result 2: ", res2)

}
```

**è¾“å‡ºï¼š**

```go
åŸæ¥çš„å­—ç¬¦ä¸²
String 1:  Welcome to Nhooo for Nhooo
String 2:  Here! we learn about go strings

Result 1:  true
Result 2:  false
```

 

- **2. ContainsAnyï¼š**æ­¤å‡½æ•°ç”¨äºæ£€æŸ¥ç»™å®šå­—ç¬¦ä¸²(str)ä¸­æ˜¯å¦å­˜åœ¨ charstr ä¸­çš„ä»»ä½•Unicodeå­—ç¬¦ã€‚å¦‚æœç»™å®šå­—ç¬¦ä¸²(str)ä¸­æœ‰ charstr ä¸­çš„ä»»ä½•Unicodeå­—ç¬¦ï¼Œåˆ™æ­¤æ–¹æ³•è¿”å›trueï¼Œå¦åˆ™è¿”å›falseã€‚

**è¯­æ³•ï¼š**

```go
func ContainsAny(str, charstr string) bool
```

åœ¨è¿™é‡Œï¼Œ*str* æ˜¯åŸå§‹å­—ç¬¦ä¸²ï¼Œ*charstr* æ˜¯charsä¸­çš„Unicodeå­—ç¬¦ã€‚è®©æˆ‘ä»¬å€ŸåŠ©ç¤ºä¾‹æ¥è®¨è®ºè¿™ä¸ªæ¦‚å¿µï¼š

ç¤ºä¾‹

```go
//å­—ç¬¦ä¸²å­˜åœ¨æˆ–ä¸å­˜åœ¨æŒ‡å®šå­—ä¸²
package main

import (
    "fmt"
    "strings"
)

func main() {

    //åˆ›å»ºå’Œåˆå§‹åŒ–å­—ç¬¦ä¸²
    str1 := "Welcome to Geeks for Geeks"
    str2 := "Here! we learn about go strings"

    //æ£€æŸ¥å­—ç¬¦ä¸²æ˜¯å¦å­˜åœ¨
    //ä½¿ç”¨ContainsAny()å‡½æ•°
    res1 := strings.ContainsAny(str1, "Geeks")
    res2 := strings.ContainsAny(str2, "GFG")
    res3 := strings.ContainsAny("nhooo", "G & f")
    res4 := strings.ContainsAny("nhooo", "u | e")
    res5 := strings.ContainsAny(" ", " ")
    res6 := strings.ContainsAny("nhooo", " ")

    //æ˜¾ç¤ºç»“æœ
    fmt.Println("\nResult 1: ", res1)
    fmt.Println("Result 2: ", res2)
    fmt.Println("Result 3: ", res3)
    fmt.Println("Result 4: ", res4)
    fmt.Println("Result 5: ", res5)
    fmt.Println("Result 6: ", res6)

}
```

**è¾“å‡ºï¼š**

```go
Result 1:  true
Result 2:  false
Result 3:  false
Result 4:  false
Result 5:  true
Result 6:  false
```

#### 7.7æŸ¥æ‰¾å­—ç¬¦ä¸²ç´¢å¼•ï¼ˆæ—¶é—´å¤æ‚åº¦æœªçŸ¥ï¼Œå†…éƒ¨å®ç°ï¼Ÿï¼Ÿï¼Ÿï¼‰

- **1.Indexï¼š**æ­¤å‡½æ•°ç”¨äºä»åŸå§‹å­—ç¬¦ä¸²ä¸­æŸ¥æ‰¾ç»™å®šå­—ç¬¦ä¸²çš„ç¬¬ä¸€ä¸ªå®ä¾‹çš„ç´¢å¼•å€¼ã€‚å¦‚æœç»™å®šçš„å­—ç¬¦ä¸²åœ¨åŸå§‹å­—ç¬¦ä¸²ä¸­ä¸å­˜åœ¨ï¼Œåˆ™æ­¤æ–¹æ³•å°†è¿”å›-1ã€‚

**è¯­æ³•ï¼š**

```go
func Index(str, sbstr string) int
```

åœ¨è¿™é‡Œï¼Œ*str*æ˜¯åŸå§‹å­—ç¬¦ä¸²ï¼Œ*sbstr*æ˜¯æˆ‘ä»¬è¦æŸ¥æ‰¾ç´¢å¼•å€¼çš„å­—ç¬¦ä¸²ã€‚

- **2. IndexAnyï¼š**æ­¤æ–¹æ³•ä»åŸå§‹å­—ç¬¦ä¸²ä¸­çš„charsè¿”å›ä»»ä½•Unicodeç çš„ç¬¬ä¸€ä¸ªå®ä¾‹çš„ç´¢å¼•å€¼ã€‚å¦‚æœåŸå§‹å­—ç¬¦ä¸­æ²¡æœ‰æ¥è‡ªcharsçš„Unicodeä»£ç ç‚¹ï¼Œåˆ™æ­¤æ–¹æ³•å°†è¿”å›-1ã€‚

**è¯­æ³•ï¼š**

```go
func IndexAny(str, charstr string) int
```

åœ¨è¿™é‡Œï¼Œ*str*æ˜¯åŸå§‹å­—ç¬¦ä¸²ï¼Œ*charstr*æ˜¯charsçš„Unicodeä»£ç ç‚¹ï¼Œæˆ‘ä»¬æƒ³è¦æŸ¥æ‰¾ç´¢å¼•å€¼ã€‚

- **3. IndexByteï¼š**æ­¤å‡½æ•°è¿”å›åŸå§‹å­—ç¬¦ä¸²ä¸­ç»™å®šå­—èŠ‚çš„ç¬¬ä¸€ä¸ªå®ä¾‹çš„ç´¢å¼•ã€‚å¦‚æœç»™å®šçš„å­—èŠ‚åœ¨åŸå§‹å­—ç¬¦ä¸²ä¸­ä¸å­˜åœ¨ï¼Œåˆ™æ­¤æ–¹æ³•å°†è¿”å›-1ã€‚

**è¯­æ³•ï¼š**

```go
func IndexByte(str string, b byte) int   //byteå°±æ˜¯å­—ç¬¦ï¼Œä¾‹å¦‚ï¼š'c'
```

åœ¨è¿™é‡Œï¼Œ*str*æ˜¯åŸå§‹å­—ç¬¦ä¸²ï¼Œ*b*æ˜¯ä¸€ä¸ªå­—èŠ‚ï¼Œæˆ‘ä»¬è¦æŸ¥æ‰¾å…¶ç´¢å¼•å€¼ã€‚

#### 7.8(é‡ç‚¹)ï¼šè¯»å–ä¸€è¡Œå­—ç¬¦ä¸²

- è¯»ä¸€è¡Œå­—ç¬¦ä¸²

```go
package main

import (
    "fmt"
    "os"
    "bufio"
)

func main() {
    s, _ := bufio.NewReader(os.Stdin).ReadString('\n')   //è¯»å…¥ä¸€è¡Œå­—ç¬¦ä¸²
    fmt.Println(len(s))
}

// è¾“å…¥ï¼šI love Beijing.
/*
15
*/
```

- `fmt.Scanf`  `fmt.Scan`ç­‰è¯»æ•°æ®ä¸ä¼šè‡ªåŠ¨æ¸…é™¤æœ€åçš„æ¢è¡Œï¼Œæ›´é€šç”¨çš„è¯»å…¥ï¼šï¼ˆå¥½åƒæœ‰é—®é¢˜ï¼‰

```go
package main
import (
	."fmt"
    "os"
    "bufio"
)
func main() {
    reader := bufio.NewReader(os.Stdin)
    //éšä¾¿å®šä¹‰ä¸€ä¸ªç±»å‹çš„å˜é‡
    var ch string
    Fscan(reader, &ch)
}
```

### 8.Goè¯­è¨€æ¥å£ï¼ˆInterfacesï¼‰(å¾…å­¦ä¹ )

åœ¨Goè¯­è¨€ä¸­ï¼Œè¯¥æ¥å£æ˜¯ä¸€ç§è‡ªå®šä¹‰ç±»å‹ï¼Œç”¨äºæŒ‡å®šä¸€ç»„ä¸€ä¸ªæˆ–å¤šä¸ªæ–¹æ³•ç­¾åï¼Œå¹¶ä¸”è¯¥æ¥å£æ˜¯æŠ½è±¡çš„ï¼Œå› æ­¤ä¸å…è®¸æ‚¨åˆ›å»ºè¯¥æ¥å£çš„å®ä¾‹ã€‚æ¢å¥è¯è¯´ï¼Œæ¥å£æ—¢æ˜¯æ–¹æ³•çš„é›†åˆï¼Œä¹Ÿæ˜¯è‡ªå®šä¹‰ç±»å‹ã€‚

åœ¨Goè¯­è¨€ä¸­ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨ä»¥ä¸‹è¯­æ³•åˆ›å»ºæ¥å£ï¼š

```go
type interface_name interface{

    //æ–¹æ³•ç­¾å
}
```

**ä¾‹å¦‚ï¼š**

```go
//åˆ›å»ºä¸€ä¸ªæ¥å£
type myinterface interface{
    // æ–¹æ³•
    fun1() int
    fun2() float64
}
```

æ­¤å¤„ï¼Œæ¥å£åç§°åŒ…å«åœ¨typeå’Œinterfaceå…³é”®å­—ä¹‹é—´ï¼Œæ–¹æ³•ç­¾ååŒ…å«åœ¨èŠ±æ‹¬å·ä¹‹é—´ã€‚

- åœ¨Goè¯­è¨€ä¸­ï¼Œä¸ºäº†å®ç°æ¥å£ï¼Œå¿…é¡»å®ç°æ¥å£ä¸­å£°æ˜çš„æ‰€æœ‰æ–¹æ³•ã€‚goè¯­è¨€æ¥å£æ˜¯éšå¼å®ç°çš„ã€‚ä¸å…¶ä»–è¯­è¨€ä¸€æ ·ï¼Œå®ƒä¸åŒ…å«å®ç°æ¥å£çš„ä»»ä½•ç‰¹å®šå…³é”®å­—ã€‚å¦‚ä¸‹ä¾‹æ‰€ç¤º:

```go
// Golangç¨‹åºè¯´æ˜å¦‚ä½•
//å®ç°æ¥å£
package main

import "fmt"

//åˆ›å»ºä¸€ä¸ªæ¥å£
type tank interface {

    // æ–¹æ³•
    Tarea() float64
    Volume() float64
}

type myvalue struct {
    radius float64
    height float64
}

//å®ç°æ–¹æ³•
//æ¡¶çš„ï¼ˆTankï¼‰æ¥å£
func (m myvalue) Tarea() float64 {

    return 2*m.radius*m.height + 2*3.14*m.radius*m.radius
}

func (m myvalue) Volume() float64 {

    return 3.14 * m.radius * m.radius * m.height
}

func main() {

    // è®¿é—®ä½¿ç”¨æ¡¶çš„æ¥å£
    var t tank
    t = myvalue{10, 14}
    fmt.Println("æ¡¶çš„é¢ç§¯ :", t.Tarea())
    fmt.Println("æ¡¶çš„å®¹é‡:", t.Volume())
}
/*
æ¡¶çš„é¢ç§¯ : 908
æ¡¶çš„å®¹é‡: 4396
*/

```





### 9.Goå¹¶å‘ï¼ˆGoroutinesï¼‰

Goè¯­è¨€æä¾›äº†ç§°ä¸ºGoroutinesçš„ç‰¹æ®ŠåŠŸèƒ½ã€‚Goroutineæ˜¯ä¸€ç§[å‡½æ•°](https://www.cainiaoplus.com/golang/go-functions.html)æˆ–æ–¹æ³•ï¼Œå¯ä¸ç¨‹åºä¸­å­˜åœ¨çš„ä»»ä½•å…¶ä»–Goroutineä¸€èµ·**ç‹¬ç«‹ä¸”åŒæ—¶**æ‰§è¡Œã€‚æ¢å¥è¯è¯´ï¼Œæ¯ä¸ªGoè¯­è¨€ä¸­åŒæ—¶æ‰§è¡Œçš„æ´»åŠ¨ç§°ä¸ºGoroutinesï¼Œæ‚¨å¯ä»¥å°†Goroutineè§†ä¸ºè½»é‡çº§çº¿ç¨‹ã€‚ä¸çº¿ç¨‹ç›¸æ¯”ï¼Œåˆ›å»ºGoroutinesçš„æˆæœ¬éå¸¸å°ã€‚æ¯ä¸ªç¨‹åºè‡³å°‘åŒ…å«ä¸€ä¸ªGoroutineï¼Œå¹¶ä¸”è¯¥Goroutineè¢«ç§°ä¸º**ä¸»Goroutine**ã€‚å¦‚æœä¸»Goroutineç»ˆæ­¢ï¼Œåˆ™æ‰€æœ‰åœ¨ä¸»Goroutineä¹‹ä¸‹è¿è¡Œçš„æ‰€æœ‰goroutineä¹Ÿå°†ç»ˆæ­¢ï¼›Goroutineå§‹ç»ˆåœ¨åå°è¿è¡Œã€‚

**Goroutinesä¼˜ç‚¹ï¼š**

- Goroutineæ¯”çº¿ç¨‹å¼€é”€å°ã€‚
- Goroutineå­˜å‚¨åœ¨å †æ ˆä¸­ï¼Œå¹¶ä¸”å †æ ˆçš„å¤§å°å¯ä»¥æ ¹æ®ç¨‹åºçš„è¦æ±‚è€Œå¢å¤§å’Œç¼©å°ã€‚ä½†æ˜¯åœ¨çº¿ç¨‹ä¸­ï¼Œå †æ ˆçš„å¤§å°æ˜¯å›ºå®šçš„ã€‚
- Goroutineå¯ä»¥ä½¿ç”¨é€šé“è¿›è¡Œé€šä¿¡ï¼Œå¹¶ä¸”è¿™äº›é€šé“ç»è¿‡ç‰¹æ®Šè®¾è®¡ï¼Œå¯ä»¥é˜²æ­¢åœ¨ä½¿ç”¨Goroutinesè®¿é—®å…±äº«å†…å­˜æ—¶å‡ºç°äº‰ç”¨æƒ…å†µã€‚
- å‡è®¾ä¸€ä¸ªç¨‹åºæœ‰ä¸€ä¸ªçº¿ç¨‹ï¼Œå¹¶ä¸”è¯¥çº¿ç¨‹æœ‰è®¸å¤šä¸ä¹‹å…³è”çš„Goroutineã€‚å¦‚æœç”±äºèµ„æºéœ€æ±‚ï¼Œä»»ä½•Goroutineé˜»å¡äº†çº¿ç¨‹ï¼Œåˆ™æ‰€æœ‰å…¶ä½™Goroutineå°†åˆ†é…ç»™æ–°åˆ›å»ºçš„OSçº¿ç¨‹ã€‚æ‰€æœ‰è¿™äº›ç»†èŠ‚å¯¹ç¨‹åºå‘˜éƒ½æ˜¯éšè—çš„ã€‚

#### 9.2Goä¿¡é“ï¼ˆchannelï¼‰

åœ¨Goè¯­è¨€ä¸­ï¼Œmainå‡½æ•°å¯ä»¥çœ‹æˆä¸ºä¸€ä¸ªä¸»goroutineï¼Œé€šé“æ˜¯goroutineä¸å¦ä¸€ä¸ªgoroutineé€šä¿¡çš„åª’ä»‹ï¼Œå¹¶ä¸”è¿™ç§é€šä¿¡æ˜¯æ— é”çš„ã€‚æ¢å¥è¯è¯´ï¼Œé€šé“æ˜¯ä¸€ç§æŠ€æœ¯ï¼Œå®ƒå…è®¸ä¸€ä¸ªgoroutineå°†æ•°æ®å‘é€åˆ°å¦ä¸€ä¸ªgoroutineã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œé€šé“æ˜¯åŒå‘çš„ï¼Œè¿™æ„å‘³ç€goroutineå¯ä»¥é€šè¿‡åŒä¸€é€šé“å‘é€æˆ–æ¥æ”¶æ•°æ®ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š

![image-20240327151721773](./../../../images/image-20240327151721773.png)

- **åˆ›å»ºä¿¡é“ï¼š**

åœ¨Goè¯­è¨€ä¸­ï¼Œä½¿ç”¨chanå…³é”®å­—åˆ›å»ºé€šé“ï¼Œå¹¶ä¸”è¯¥é€šé“åªèƒ½ä¼ è¾“ç›¸åŒç±»å‹çš„æ•°æ®ï¼Œä¸å…è®¸ä»åŒä¸€é€šé“ä¼ è¾“ä¸åŒç±»å‹çš„æ•°æ®ã€‚

```go
var channel_name chan Type    //var channel1 chan string  è¯¥æ¡ä¿¡é“åªèƒ½ç”¨æ¥ä¼ è¾“stringç±»å‹çš„æ•°æ®
channel_name:= make(chan Type)  //channel2 := make(chan int)  //è¯¥æ¡ä¿¡é“åªèƒ½ç”¨æ¥ä¼ è¾“intç±»å‹çš„æ•°æ®
```

- **ä»ä¿¡é“å‘é€æˆ–æ¥æ”¶æ•°æ®ï¼š**

åœ¨Goè¯­è¨€ä¸­ï¼Œé€šé“å·¥ä½œæœ‰ä¸¤ä¸ªä¸»è¦çš„æ“ä½œï¼Œä¸€ä¸ªæ˜¯å‘é€ï¼Œå¦ä¸€ä¸ªæ˜¯æ¥æ”¶ï¼Œè¿™ä¸¤ä¸ªæ“ä½œç»Ÿç§°ä¸ºé€šä¿¡ã€‚`<-`è¿ç®—ç¬¦çš„æ–¹å‘è¡¨ç¤ºæ˜¯æ¥æ”¶æ•°æ®è¿˜æ˜¯å‘é€æ•°æ®ã€‚åœ¨é€šé“ä¸­ï¼Œé»˜è®¤æƒ…å†µä¸‹ï¼Œå‘é€å’Œæ¥æ”¶æ“ä½œå—ç›´åˆ°å¦ä¸€ç«¯æ²¡æœ‰æ•°æ®ä¸ºæ­¢ã€‚å®ƒå…è®¸goroutineåœ¨æ²¡æœ‰æ˜¾å¼é”æˆ–æ¡ä»¶å˜é‡çš„æƒ…å†µä¸‹å½¼æ­¤åŒæ­¥ã€‚

1. **å‘é€æ“ä½œï¼š**å‘é€æ“ä½œç”¨äºåœ¨é€šé“çš„å¸®åŠ©ä¸‹å°†æ•°æ®ä»ä¸€ä¸ªgoroutineå‘é€åˆ°å¦ä¸€ä¸ªgoroutineã€‚åƒintï¼Œfloat64å’Œboolä¹‹ç±»çš„å€¼å¯ä»¥å®‰å…¨ä¸”å®¹æ˜“åœ°é€šè¿‡é€šé“å‘é€ï¼Œå› ä¸ºå®ƒä»¬æ˜¯è¢«å¤åˆ¶çš„ï¼Œå› æ­¤ä¸å­˜åœ¨æ„å¤–å¹¶å‘è®¿é—®ç›¸åŒå€¼çš„é£é™©ã€‚åŒæ ·ï¼Œå­—ç¬¦ä¸²ä¹Ÿæ˜¯å®‰å…¨çš„ï¼Œå› ä¸ºå®ƒä»¬æ˜¯ä¸å¯å˜çš„ã€‚ä½†æ˜¯ï¼Œé€šè¿‡é€šé“å‘é€æŒ‡é’ˆæˆ–å¼•ç”¨ï¼ˆä¾‹å¦‚åˆ‡ç‰‡ï¼Œmapé›†åˆç­‰ï¼‰å¹¶ä¸å®‰å…¨ï¼Œå› ä¸ºæŒ‡é’ˆæˆ–å¼•ç”¨çš„å€¼å¯èƒ½ä¼šé€šè¿‡åŒæ—¶å‘é€goroutineæˆ–æ¥æ”¶goroutineæ›´æ”¹ï¼Œå¹¶ä¸”ç»“æœæ— æ³•é¢„æµ‹ã€‚å› æ­¤ï¼Œåœ¨é€šé“ä¸­ä½¿ç”¨æŒ‡é’ˆæˆ–å¼•ç”¨æ—¶ï¼Œå¿…é¡»ç¡®ä¿å®ƒä»¬ä¸€æ¬¡åªèƒ½ç”±ä¸€ä¸ªgoroutineè®¿é—®ã€‚

   ```go
   Mychannel <- element
   ```

   ä¸Šé¢çš„è¯­å¥è¡¨æ˜æ•°æ®ï¼ˆelementï¼‰åœ¨**<-**è¿ç®—ç¬¦çš„å¸®åŠ©ä¸‹å‘é€åˆ°é€šé“ï¼ˆMychannelï¼‰ã€‚

2. **æ¥æ”¶æ“ä½œï¼š**æ¥æ”¶æ“ä½œç”¨äºæ¥æ”¶å‘é€æ“ä½œæ–¹å‘é€çš„æ•°æ®ã€‚

   ```go
   element := <-Mychannel
   ```

   ä¸Šé¢çš„è¯­å¥è¡¨æ˜è¯¥å…ƒç´ ä»channelï¼ˆMychannelï¼‰æ¥æ”¶æ•°æ®ã€‚å¦‚æœæ¥æ”¶åˆ°çš„è¯­å¥çš„ç»“æœä¸å¯ç”¨ï¼ˆä¸éœ€è¦ä½¿ç”¨ï¼‰ï¼Œåˆ™ä¹Ÿæ˜¯æœ‰æ•ˆçš„è¯­å¥ã€‚æ‚¨è¿˜å¯ä»¥ç¼–å†™å¦‚ä¸‹çš„receiveè¯­å¥ï¼š

   ```go
   <-Mychannel
   ```

- **å…³é—­ä¿¡é“ï¼š**

æ‚¨ä¹Ÿå¯ä»¥åœ¨close()å‡½æ•°çš„å¸®åŠ©ä¸‹å…³é—­é€šé“ã€‚è¿™æ˜¯ä¸€ä¸ªå†…ç½®å‡½æ•°ï¼Œå¹¶è®¾ç½®ä¸€ä¸ªæ ‡è¯†ï¼Œè¡¨ç¤ºä¸å†æœ‰ä»»ä½•å€¼å°†å‘é€åˆ°è¯¥é€šé“ã€‚

**è¯­æ³•ï¼š**

```go
close(channel_name)
```

æ‚¨ä¹Ÿå¯ä»¥ä½¿ç”¨forå¾ªç¯å…³é—­é€šé“ã€‚åœ¨è¿™é‡Œï¼Œæ¥æ”¶å™¨goroutineå¯ä»¥å€ŸåŠ©ç»™å®šçš„è¯­æ³•æ£€æŸ¥é€šé“æ˜¯æ‰“å¼€è¿˜æ˜¯å…³é—­ï¼š

```go
ele, ok:= <- Mychannel
```

åœ¨æ­¤ï¼Œå¦‚æœokçš„å€¼ä¸ºtrueï¼Œåˆ™è¡¨ç¤ºé€šé“å·²æ‰“å¼€ï¼Œå› æ­¤å¯ä»¥æ‰§è¡Œè¯»å–æ“ä½œã€‚å¹¶ä¸”ï¼Œå¦‚æœokçš„å€¼ä¸ºfalseï¼Œåˆ™è¡¨ç¤ºè¯¥é€šé“å·²å…³é—­ï¼Œå› æ­¤å°†ä¸æ‰§è¡Œè¯»å–æ“ä½œã€‚

ç¤ºä¾‹:

```go
//Goç¨‹åºè¯´æ˜å¦‚ä½•
//å…³é—­ä½¿ç”¨çš„é€šé“
//rangeå¾ªç¯å’Œå…³é—­å‡½æ•°
package main

import "fmt"

func myfun(mychnl chan string) {

    for v := 0; v < 4; v++ {
        mychnl <- "nhooo"
    }
    close(mychnl)
}

func main() {

    //åˆ›å»ºé€šé“
    c := make(chan string)

    // ä½¿ç”¨ Goroutine
    go myfun(c)

    //å½“okçš„å€¼ä¸ºä¸ºtrueæ—¶ï¼Œè¡¨ç¤ºé€šé“å·²æ‰“å¼€ï¼Œå¯ä»¥å‘é€æˆ–æ¥æ”¶æ•°æ®
    //å½“okçš„å€¼è®¾ç½®ä¸ºfalseæ—¶ï¼Œè¡¨ç¤ºé€šé“å·²å…³é—­
    for {
        res, ok := <-c
        if ok == false {
            fmt.Println("é€šé“å…³é—­ ", ok)
            break
        }
        fmt.Println("é€šé“æ‰“å¼€ ", res, ok)
    }
}
/*
é€šé“æ‰“å¼€  nhooo true
é€šé“æ‰“å¼€  nhooo true
é€šé“æ‰“å¼€  nhooo true
é€šé“æ‰“å¼€  nhooo true
é€šé“å…³é—­  false
*/


// ç­‰ä»·ä¸Šé¢
package main

import "fmt"

func myfun(mychnl chan string) {

	for v := 0; v < 4; v++ {
		mychnl <- "nhooo"
	}
	close(mychnl)
}

func main() {

	//åˆ›å»ºé€šé“
	c := make(chan string)

	// ä½¿ç”¨ Goroutine
	go myfun(c)

	//å½“okçš„å€¼ä¸ºä¸ºtrueæ—¶ï¼Œè¡¨ç¤ºé€šé“å·²æ‰“å¼€ï¼Œå¯ä»¥å‘é€æˆ–æ¥æ”¶æ•°æ®
	//å½“okçš„å€¼è®¾ç½®ä¸ºfalseæ—¶ï¼Œè¡¨ç¤ºé€šé“å·²å…³é—­
    // ä¸»çº¿ç¨‹ä¼šä¸€ç›´é˜»å¡åœ¨è¿™ä¸ªç›‘å¬ä¿¡é“cçš„æ•°æ®åˆ°æ¥
	for msg := range c {
		fmt.Println(msg)
	}
}

```

- **é‡è¦çš„æ³¨æ„äº‹é¡¹ï¼š**

  - **é˜»æ­¢å‘é€å’Œæ¥æ”¶ï¼š**åœ¨é€šé“ä¸­ï¼Œå½“æ•°æ®å‘é€åˆ°é€šé“æ—¶ï¼Œæ§åˆ¶åœ¨å‘é€è¯­å¥ä¸­è¢«é˜»å¡ï¼Œç›´åˆ°å…¶ä»–goroutineä»è¯¥é€šé“è¯»å–æ•°æ®ã€‚ç±»ä¼¼åœ°ï¼Œå½“goroutineä»é€šé“æ¥æ”¶æ•°æ®æ—¶ï¼Œreadè¯­å¥å—ç›´åˆ°å¦ä¸€æ¡goroutineä»è¯¥é€šé“å‘é€æ•°æ®ã€‚

  - **é›¶å€¼é€šé“ï¼š**é€šé“çš„é›¶å€¼ä¸ºnilã€‚

  - **é€šé“ä¸­çš„Forå¾ªç¯ï¼š** forå¾ªç¯å¯ä»¥éå†é€šé“ä¸Šå‘é€çš„é¡ºåºå€¼ï¼Œç›´åˆ°å…³é—­ä¸ºæ­¢ã€‚

ç¤ºä¾‹:

```go
package main 
import "fmt"
  
func main() { 
  
    // ä½¿ç”¨ make() å‡½æ•°åˆ›å»ºé€šé“
    mychnl := make(chan string) 
  
    // åŒ¿å goroutine 
    go func() { 
        mychnl <- "GFG"
        mychnl <- "gfg"
        mychnl <- "Geeks"
        mychnl <- "nhooo"
        close(mychnl) 
    }() 
  
    //ä½¿ç”¨forå¾ªç¯
    for res := range mychnl { 
        fmt.Println(res) 
    } 
}
/*
GFG
gfg
Geeks
nhooo
*/
```

- **é€šé“çš„é•¿åº¦ï¼š**åœ¨é€šé“ä¸­ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨*len()å‡½æ•°*æ‰¾åˆ°é€šé“çš„é•¿åº¦ã€‚åœ¨æ­¤ï¼Œé•¿åº¦è¡¨ç¤ºåœ¨é€šé“ç¼“å†²åŒºä¸­æ’é˜Ÿçš„å€¼çš„æ•°é‡ã€‚

```go
package main 
  
import "fmt"

func main() { 
  
    // ä½¿ç”¨ make() å‡½æ•°åˆ›å»ºé€šé“ 
    mychnl := make(chan string, 4) 
    mychnl <- "GFG"
    mychnl <- "gfg"
    mychnl <- "Geeks"
    mychnl <- "nhooo"

    // ä½¿ç”¨  len() å‡½æ•°æŸ¥æ‰¾é€šé“çš„é•¿åº¦ 
    fmt.Println("channelé•¿åº¦ä¸º: ", len(mychnl)) 
}
/*
channelé•¿åº¦ä¸º:  4
*/
```

- **é€šé“çš„å®¹é‡ï¼š**åœ¨é€šé“ä¸­ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨cap()å‡½æ•°æ‰¾åˆ°é€šé“çš„å®¹é‡ã€‚åœ¨æ­¤ï¼Œå®¹é‡è¡¨ç¤ºç¼“å†²åŒºçš„å¤§å°ã€‚

  ç¤ºä¾‹:

  ```go
  package main
  
  import "fmt"
  
  func main() {
  
  	// ä½¿ç”¨ make() å‡½æ•°åˆ›å»ºé€šé“
  	mychnl := make(chan string, 4)
  	mychnl <- "GFG"
  	mychnl <- "gfg"
  	mychnl <- "Geeks"
  	// ä½¿ç”¨
  	fmt.Println("channelé•¿åº¦ä¸º: ", len(mychnl))
  	fmt.Println("channelå®¹é‡ä¸º: ", cap(mychnl))
  }
  /*
  channelé•¿åº¦ä¸º:  3
  channelå®¹é‡ä¸º:  4
  */
  ```

#### 9.3Goå•å‘ä¿¡é“

ä¼—æ‰€å‘¨çŸ¥ï¼Œé€šé“æ˜¯å¹¶å‘è¿è¡Œçš„goroutineä¹‹é—´çš„é€šä¿¡åª’ä»‹ï¼Œå› æ­¤å®ƒä»¬å¯ä»¥ç›¸äº’å‘é€å’Œæ¥æ”¶æ•°æ®ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œé€šé“æ˜¯åŒå‘çš„ï¼Œä½†æ˜¯æ‚¨ä¹Ÿå¯ä»¥åˆ›å»ºå•å‘é€šé“ã€‚åªèƒ½æ¥æ”¶æ•°æ®çš„é€šé“æˆ–åªèƒ½å‘é€æ•°æ®çš„é€šé“ï¼Œå°±æ˜¯**å•å‘é€šé“**ã€‚å•å‘é€šé“ä¹Ÿå¯ä»¥é€šè¿‡make()å‡½æ•°åˆ›å»ºï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š

**åªè¯»ä¸åªå†™ä¿¡é“çš„æ„ä¹‰ï¼š**

â€‹		æ–¹æ³•æˆ–è€…å‡½æ•°å‚æ•°æ§åˆ¶åªè¯»åªå†™ï¼Œé˜²æ­¢è¯¯æ“ä½œã€‚ä½¿ç”¨å•å‘Channelä½œä¸ºå‡½æ•°å‚æ•°æˆ–è¿”å›å€¼ï¼Œå¯ä»¥ç¡®ä¿æ•°æ®åªèƒ½åœ¨æŒ‡å®šçš„æ–¹å‘ä¸ŠæµåŠ¨ï¼Œä»è€Œå¢å¼ºç¨‹åºçš„å®‰å…¨æ€§ã€‚

â€‹		**åº•å±‚å¤„ç†  æ•ˆç‡ä¹Ÿä¼šæ›´é«˜ï¼š**é€šè¿‡å°†Channelé™åˆ¶ä¸ºåªèƒ½å‘é€æˆ–åªèƒ½æ¥æ”¶æ•°æ®ï¼Œå¯ä»¥å‡å°‘ç¨‹åºä¸­çš„ç«äº‰æ¡ä»¶å’Œé”ç«äº‰ï¼Œé¿å…æ•°æ®è¢«é”™è¯¯åœ°ä¿®æ”¹æˆ–å¼•å‘æ­»é”é—®é¢˜ã€‚

**å•å‘Channelçš„çº¦æŸï¼š**

1. åªè¯»æˆ–åªå†™
   é€šè¿‡å°†Channelçš„æ–¹å‘é™åˆ¶ä¸ºåªè¯»æˆ–åªå†™ï¼Œå¯ä»¥é˜²æ­¢åœ¨é”™è¯¯çš„åœ°æ–¹ä¿®æ”¹æ•°æ®ï¼Œä»è€Œæé«˜ç¨‹åºçš„å®‰å…¨æ€§ã€‚ä¾‹å¦‚ï¼Œå°†ä¸€ä¸ªåªè¯»çš„å•å‘Channelä¼ é€’ç»™ä¸€ä¸ªå‡½æ•°ï¼Œä¿è¯è¯¥å‡½æ•°åªèƒ½ä»è¯¥Channelä¸­è¯»å–æ•°æ®ã€‚
2. é¿å…æ­»é”
   åœ¨ä½¿ç”¨å•å‘Channelæ—¶ï¼Œéœ€è¦æ³¨æ„é¿å…æ­»é”é—®é¢˜ã€‚å½“ä¸€ä¸ªChannelåœ¨å‘é€æ•°æ®å’Œæ¥æ”¶æ•°æ®çš„ä»£ç ä¸­åŒæ—¶å­˜åœ¨æ—¶ï¼Œéœ€è¦ç¡®ä¿å‘é€å’Œæ¥æ”¶çš„é¡ºåºæ­£ç¡®ï¼Œå¦åˆ™å¯èƒ½ä¼šå¯¼è‡´ç¨‹åºæ­»é”ã€‚

```go
//ä»…æ¥æ”¶æ•°æ®
c1:= make(<- chan bool)

//ä»…ç”¨äºå‘é€æ•°æ®
c2:= make(chan<-bool)
```

- å°†åŒå‘é€šé“è½¬æ¢ä¸ºå•å‘é€šé“ï¼š

```go
package main 
  
import "fmt"
  
func sending(s chan<- string) {   // send-onlyåªå†™ä¿¡é“
    s <- "nhooo"
} 
  
func main() { 
  
    //åˆ›å»ºåŒå‘é€šé“
    mychanl := make(chan string) 
  
        //åœ¨è¿™é‡Œï¼Œsending()å‡½æ•°å°†åŒå‘é€šé“è½¬æ¢ä¸ºä»…å‘é€é€šé“ 
    go sending(mychanl) 
  
    //åœ¨è¿™é‡Œï¼Œé€šé“åªåœ¨goroutineå†…éƒ¨å‘é€ï¼Œè€Œåœ¨goroutineä¹‹å¤–ï¼Œé€šé“æ˜¯åŒå‘çš„ï¼Œæ‰€ä»¥å®ƒæ‰“å°nhooo 
    fmt.Println(<-mychanl) 
}
/*
nhooo
*/
```



### 10.å¹¶å‘å®æˆ˜ï¼šç”¨goroutineå®ç°æŸ¥æ‰¾ç”µè„‘Eç›˜ä¸­æ–‡ä»¶æˆ–æ–‡ä»¶åä¸ºtestçš„æœ‰å¤šå°‘ä¸ªï¼ˆæŸ¥æ‰¾æœ‰è¯»æƒé™çš„æ‰€æœ‰æ–‡ä»¶ï¼‰

**æš´åŠ›dfsæŸ¥æ‰¾å³å¯ï¼š**

```go
// å†™ä¸€ä¸ªæœç´¢æ–‡ä»¶æˆ–æ–‡ä»¶åä¸ºtestçš„æœ‰å¤šå°‘ä¸ª

package main

import (
	"fmt"
	"os"
	"time"
)

var filename = "test"
var matches int

func main() {
	root_path := "E:\\"
	start := time.Now()
	dfs(root_path)

	fmt.Println("matches: ", matches)
	fmt.Println(time.Since(start))
}

func dfs(path string) {
	files, err := os.ReadDir(path)
	if err != nil {
		return
	}
	for _, file := range files {
		name := file.Name()
		if name == filename {
			matches++
		}
		if file.IsDir() {
			dfs(path + name + "\\")
		}
	}
}
/*
matches:  1585
32.7398149s
*/
```

**ä»”ç»†ä¸€æƒ³ï¼Œè¯»å–æ–‡ä»¶è¿™ä¸ªä»»åŠ¡å¯ä»¥å¹¶è¡Œæ¥åšï¼Œåˆ©ç”¨å¥½cpuçš„æ‰€æœ‰æ ¸ï¼ˆæœ¬ç”µè„‘æœ‰6æ ¸ï¼‰ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨å¤šçº¿ç¨‹æ¥å®ç°ï¼ŒåŠ å¿«è¯¥ä»»åŠ¡çš„æ•ˆç‡ï¼ŒåŒæ—¶æœ€å¤§åŒ–æé«˜cpuçš„åˆ©ç”¨ç‡ï¼šï¼ˆå¾…å®Œæˆï¼‰**

```go
// å†™ä¸€ä¸ªæœç´¢æ–‡ä»¶æˆ–æ–‡ä»¶åä¸ºtestçš„æœ‰å¤šå°‘ä¸ª

package main

import (
	"fmt"
	"os"
	"time"
)

var filename = "test"
var matches int // è¿™ä¸ªç»“æœå¿…é¡»è¦å‡†ç¡®ï¼Œæˆ‘ä»¬è¦é¿å…å¤šä¸ªçº¿ç¨‹åŒæ—¶å¯¹è¯¥æ•°æ®è¿›è¡Œå†™æ“ä½œ

var workerCount = 0     //å½“å‰çš„çº¿ç¨‹æ•°é‡, è¿™ä¸ªåº”è¯¥ä¹Ÿå¿…é¡»è¦å‡†ç¡®
var maxWorkerCount = 32 //æœ¬ç¨‹åºå…è®¸æœ€å¤šå¼€çš„çº¿ç¨‹æ•°é‡

var searchRequest = make(chan string) //éœ€è¦å¼€çº¿ç¨‹æ¥è¿›è¡Œçš„æœç´¢
var workDone = make(chan bool)        //å½“å‰çš„çº¿ç¨‹å·¥ä½œå·²ç»å®Œæˆ
var matchFile = make(chan bool)       //æ˜¯å¦åŒ¹é…ä¸Šæ–‡ä»¶å
// var lockWorkerCount = make(chan bool)       //å½“å‰æ˜¯å¦éœ€è¦ä½¿ç”¨workerCountè¿™ä¸ªå˜é‡ï¼Œå¯ä»¥ç†è§£ä¸ºmutex

func main() {
	root_path := "E:\\"
	start := time.Now()
	workerCount = 1
	go dfs(root_path, true) //trueè¡¨ç¤ºå½“å‰è¿™ä¸ªæœç´¢ä»»åŠ¡æ˜¯çº¿ç¨‹åšçš„
	// ä¸ºäº†é˜²æ­¢mainè¿™ä¸ªä¸»çº¿ç¨‹æå‰ç»“æŸï¼Œéœ€è¦ç­‰å¾…æ‰€æœ‰çš„å­çº¿ç¨‹æ‰§è¡Œå®Œæ¯•æ‰èƒ½ç»“æŸmainä¸»çº¿ç¨‹
	waitForWorker()
	fmt.Println("matches: ", matches)
	fmt.Println(time.Since(start))
}

func waitForWorker() {
	for {
		select {
		case path := <-searchRequest: //å¼€çº¿ç¨‹å»å¹²æ´»
			workerCount++
			go dfs(path, true)
		case <-workDone:
			workerCount--
			if workerCount <= 0 {
				return
			}
		case <-matchFile:
			matches++
			// case <-lockWorkerCount: //å½“å‰éœ€è¦ä½¿ç”¨workCountè¯·æ±‚ï¼Œåªä»ä¿¡é“é‡Œé¢å°†è¿™ä¸ªä¿¡æ¯è¯»å–äº†å³å¯
			// 	fmt.Println("å½“å‰çš„å·¥äººï¼š", workerCount)
		}
	}
}

func dfs(path string, is_a_goroutine bool) {
	files, err := os.ReadDir(path)
	if err != nil { //æœ‰çš„æ–‡ä»¶å¯èƒ½æ²¡æœ‰æƒé™
		if is_a_goroutine { //å½“å‰è¿™ä¸ªçº¿ç¨‹çš„æ´»æå‰å¹²å®Œäº†ï¼Œå°±å¾€ä¿¡é“å–Šè¯ï¼Œæˆ‘å¹²å®Œäº†
			workDone <- true
		}
		return
	}
	for _, file := range files {
		name := file.Name()
		if name == filename {
			matchFile <- true //å½“å‰æ‰¾åˆ°ä¸€ä¸ªï¼Œå°±å¾€ä¿¡é“é‡Œé¢ä¼ æ¶ˆæ¯è¿‡å»ï¼Œä¿¡é“åªèƒ½ä¼ ä¸€æ¬¡æ•°æ®ï¼Œæ¥æ”¶ä¸€æ¬¡ï¼Œä¸ä¼šå†²çªã€‚å½“ä¿¡é“é‡Œé¢çš„æ•°æ®æ²¡æœ‰è¢«è¯»å–ï¼Œå…¶å®ƒçº¿ç¨‹ï¼ˆè¢«é˜»å¡ï¼‰ä¸èƒ½å¾€è¯¥ä¿¡é“ä¼ æ•°æ®ï¼Œç›´åˆ°ä¿¡é“åŸå…ˆçš„æ•°æ®è¢«è¯»å–äº†ã€‚
		}
		if file.IsDir() {
			// workerCountä¹Ÿæ˜¯ä¸´ç•Œèµ„æºï¼ˆæœ€å¥½åŠ ä¸Šäº’æ–¥é”ï¼‰ï¼Œå¯èƒ½å­˜åœ¨å‡ ä¸ªgoroutineåŒæ—¶åˆ¤æ–­ workerCount < maxWorkerCountç„¶åå¯¼è‡´å¼€çš„çº¿ç¨‹æ•°é‡ä¼šå¤§äºmaxWorkerCountï¼Œä¸å½±å“æˆ‘ä»¬æœ€ç»ˆç»“æœå°±è¡Œ
			if workerCount < maxWorkerCount {
				searchRequest <- path + name + "\\"
			} else {
				dfs(path+name+"\\", false) //çº¿ç¨‹å·²ç»å¼€åˆ°æœ€å¤§äº†ï¼Œåªèƒ½è‡ªå·±å¹²äº†
			}
		}
	}
	if is_a_goroutine { //å½“å‰è¿™ä¸ªçº¿ç¨‹çš„æ´»å¹²å®Œäº†ï¼Œå°±å¾€ä¿¡é“å–Šè¯ï¼Œæˆ‘å¹²å®Œäº†
		workDone <- true
	}
}

```

